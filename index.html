<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>–ú–æ—Ç–æ–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PRO - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥–±–æ—Ä –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="–ú–æ—Ç–æ–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PRO">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#6366F1">
    <meta name="description" content="–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ø–æ–¥–±–æ—Ä –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgdmlld0JveD0iMCAwIDE5MiAxOTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiByeD0iMjQiIGZpbGw9IiM2MzY2RjEiLz4KPHN2ZyB4PSI0OCIgeT0iNDgiIHdpZHRoPSI5NiIgaGVpZ2h0PSI5NiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJ3aGl0ZSI+CjxwYXRoIGQ9Ik0xMiAxMk0xMiA2TDEyIDE4TTYgMTJIMThaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiLz4KPC9zdmc+Cjwvc3ZnPgo=">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {--primary-color: #6366F1;--primary-dark: #4F46E5;--secondary-color: #10B981;--danger-color: #EF4444;--warning-color: #F59E0B;--success-color: #10B981;--text-color: #1F2937;--text-light: #6B7280;--bg-color: #F9FAFB;--card-bg: #ffffff;--border-color: #E5E7EB;--shadow: 0 4px 20px rgba(0,0,0,0.08);--shadow-hover: 0 8px 30px rgba(0,0,0,0.12);--safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);--safe-area-inset-top: env(safe-area-inset-top, 0px);}
        [data-theme="dark"] {--primary-color: #818CF8;--primary-dark: #6366F1;--secondary-color: #34D399;--danger-color: #F87171;--warning-color: #FBBF24;--success-color: #34D399;--text-color: #F9FAFB;--text-light: #D1D5DB;--bg-color: #111827;--card-bg: #1F2937;--border-color: #374151;--shadow: 0 4px 20px rgba(0,0,0,0.25);--shadow-hover: 0 8px 30px rgba(0,0,0,0.35);}
        * {box-sizing: border-box;margin: 0;padding: 0;-webkit-tap-highlight-color: transparent;}
        body {font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;background: var(--bg-color);color: var(--text-color);line-height: 1.6;min-height: 100vh;padding: 0;margin: 0;transition: background-color 0.3s ease, color 0.3s ease;padding-bottom: var(--safe-area-inset-bottom);padding-top: var(--safe-area-inset-top);}
        .app-container {max-width: 100%;margin: 0 auto;background: var(--bg-color);min-height: 100vh;position: relative;}
        .app-header {background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));color: white;padding: 20px 16px;text-align: center;position: sticky;top: 0;z-index: 100;box-shadow: 0 4px 20px rgba(0,0,0,0.15);padding-top: calc(20px + var(--safe-area-inset-top));}
        .app-header h1 {font-size: 1.5rem;margin-bottom: 6px;font-weight: 700;letter-spacing: -0.025em;}
        .app-header p {opacity: 0.9;font-size: 0.9rem;font-weight: 400;}
        .nav-tabs {display: flex;background: var(--card-bg);border-bottom: 1px solid var(--border-color);position: sticky;top: 0;z-index: 99;padding: 0 4px;overflow-x: auto;-webkit-overflow-scrolling: touch;scrollbar-width: none;}
        .nav-tabs::-webkit-scrollbar { display: none; }
        .nav-tab {flex: 1;min-width: 70px;background: none;border: none;padding: 14px 6px;text-align: center;font-weight: 600;font-size: 0.7rem;color: var(--text-light);cursor: pointer;transition: all 0.3s ease;border-bottom: 3px solid transparent;border-radius: 0;margin: 0 1px;white-space: nowrap;display: flex;flex-direction: column;align-items: center;gap: 4px;}
        .nav-tab.active {color: var(--primary-color);border-bottom-color: var(--primary-color);background: rgba(99, 102, 241, 0.05);}
        .nav-tab:active { background: rgba(99, 102, 241, 0.1); transform: scale(0.98); }
        .nav-tab .tab-icon { font-size: 1.1rem; margin-bottom: 2px; }
        .nav-tab .tab-text { font-size: 0.65rem; line-height: 1.2; }
        .tab-content {display: none;padding: 20px 16px;animation: fadeIn 0.4s ease;padding-bottom: calc(20px + var(--safe-area-inset-bottom));}
        .tab-content.active { display: block; }
        @keyframes fadeIn {from { opacity: 0; transform: translateY(15px); }to { opacity: 1; transform: translateY(0); }}
        .card {background: var(--card-bg);border-radius: 16px;padding: 20px;margin-bottom: 20px;box-shadow: var(--shadow);border: 1px solid var(--border-color);transition: transform 0.3s ease, box-shadow 0.3s ease;}
        .card:hover { box-shadow: var(--shadow-hover); }
        .card:active { transform: scale(0.995); }
        .section-title {font-size: 1.1rem;font-weight: 700;margin-bottom: 16px;color: var(--primary-color);display: flex;align-items: center;gap: 8px;letter-spacing: -0.025em;}
        .form-group { margin-bottom: 20px; }
        .form-row {display: grid;grid-template-columns: 1fr 1fr;gap: 16px;margin-bottom: 16px;}
        label {display: block;margin-bottom: 8px;font-weight: 600;color: var(--text-color);font-size: 0.9rem;}
        input, select, textarea {width: 100%;padding: 14px;border: 2px solid var(--border-color);border-radius: 12px;font-size: 16px;background: var(--card-bg);color: var(--text-color);transition: all 0.3s ease;font-family: inherit;-webkit-appearance: none;}
        input:focus, select:focus, textarea:focus {border-color: var(--primary-color);outline: none;box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);transform: translateY(-2px);}
        .mileage-row {display: flex;align-items: center;gap: 12px;}
        .mileage-input-group {flex: 1;display: flex;flex-direction: column;gap: 6px;}
        .mileage-input-group input {width: 100%;padding: 14px;border: 2px solid var(--border-color);border-radius: 12px;font-size: 16px;background: var(--card-bg);color: var(--text-color);transition: all 0.3s ease;}
        .mileage-input-group input:focus {border-color: var(--primary-color);outline: none;box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);}
        .mileage-label {font-size: 0.75rem;color: var(--text-light);text-align: center;font-weight: 500;}
        .mileage-separator {color: var(--primary-color);font-size: 1.2rem;font-weight: bold;padding: 0 8px;}
        @media (max-width: 480px) {.mileage-row {flex-direction: column;gap: 8px;}.mileage-separator {transform: rotate(90deg);padding: 4px 0;}}
        .btn {background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));color: white;border: none;border-radius: 12px;padding: 16px 20px;font-size: 1rem;font-weight: 600;cursor: pointer;transition: all 0.3s ease;text-align: center;display: block;width: 100%;position: relative;overflow: hidden;}
        .btn::before {content: '';position: absolute;top: 0; left: -100%;width: 100%; height: 100%;background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);transition: left 0.5s;}
        .btn:hover::before { left: 100%; }
        .btn:active { transform: scale(0.98); }
        .btn-secondary { background: linear-gradient(135deg, var(--secondary-color), #059669); }
        .btn-warning { background: linear-gradient(135deg, var(--warning-color), #D97706); }
        .btn-danger { background: linear-gradient(135deg, var(--danger-color), #DC2626); }
        .btn-success { background: linear-gradient(135deg, var(--success-color), #059669); }
        .progress-container { margin: 20px 0; }
        .progress-bar {height: 8px; background: var(--border-color);border-radius: 4px; overflow: hidden; margin-bottom: 10px;box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);}
        .progress-fill {height: 100%;background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));width: 0%; transition: width 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);border-radius: 4px; position: relative; overflow: hidden;}
        .progress-fill::after {content: ''; position: absolute; top: 0; left: -100%;width: 100%; height: 100%;background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);animation: shimmer 2s infinite;}
        @keyframes shimmer { 0% { left: -100%; } 100% { left: 100%; } }
        .progress-text { text-align: center; font-size: 0.8rem; color: var(--text-light); font-weight: 500; }
        .alert {padding: 16px; border-radius: 12px; margin: 16px 0; font-weight: 500;animation: slideIn 0.4s ease; border-left: 4px solid;}
        @keyframes slideIn { from { opacity: 0; transform: translateX(-20px);} to { opacity: 1; transform: translateX(0);} }
        .alert-success { background: rgba(16,185,129,0.1); color: var(--success-color); border-left-color: var(--success-color); }
        .alert-info { background: rgba(99,102,241,0.1); color: var(--primary-color); border-left-color: var(--primary-color); }
        .alert-warning { background: rgba(245,158,11,0.1); color: var(--warning-color); border-left-color: var(--warning-color); }
        .output-container {background: var(--card-bg); border-radius: 12px; padding: 20px; margin-top: 20px;border: 1px solid var(--border-color); white-space: pre-wrap;font-family: 'JetBrains Mono','Fira Code', monospace; font-size: 0.85rem; line-height: 1.6;max-height: 400px; overflow-y: auto; transition: all 0.3s ease;}
        .output-container:focus { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(99,102,241,0.1); }
        .search-box { position: relative; margin-bottom: 20px; }
        .search-box input { padding-left: 44px; }
        .search-icon {position: absolute; left: 14px; top: 50%; transform: translateY(-50%);color: var(--text-light); z-index: 2;}
        .reports-list { max-height: 500px; overflow-y: auto; }
        .report-item {background: var(--card-bg); border-radius: 14px; padding: 16px; margin-bottom: 10px;border: 1px solid var(--border-color); transition: all 0.3s ease; cursor: pointer;}
        .report-item:hover { transform: translateY(-3px); box-shadow: var(--shadow-hover); }
        .report-item:active { transform: scale(0.99); }
        .report-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .report-title { font-weight: 700; font-size: 1rem; color: var(--text-color); }
        .report-meta { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.8rem; color: var(--text-light); }
        .report-actions { display: flex; gap: 6px; }
        .action-btn { padding: 6px 10px; border: none; border-radius: 8px; font-size: 0.75rem; cursor: pointer; transition: all 0.3s ease; font-weight: 600; }
        .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px; margin: 20px 0; }
        .stat-card {background: var(--card-bg); border-radius: 14px; padding: 16px; text-align: center;box-shadow: var(--shadow); border: 1px solid var(--border-color); transition: all 0.3s ease;}
        .stat-card:hover { transform: translateY(-3px); box-shadow: var(--shadow-hover); }
        .stat-value { font-size: 1.5rem; font-weight: 800; color: var(--primary-color); margin: 6px 0; letter-spacing: -0.025em; }
        .stat-label { font-size: 0.8rem; color: var(--text-light); font-weight: 500; }
        .grid-buttons { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin: 16px 0; }
        .grid-btn {background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 8px;padding: 8px 4px; font-size: 0.75rem; cursor: pointer; transition: all 0.3s ease;}
        .grid-btn.active { background: var(--primary-color); color: white; border-color: var(--primary-color); }
        @media (max-width: 768px) {.form-row { grid-template-columns: 1fr; }.nav-tab { font-size: 0.65rem; padding: 12px 4px; }.nav-tab .tab-icon { font-size: 1rem; }.stats-grid { grid-template-columns: 1fr; }.tab-content { padding: 16px 12px; }.card { padding: 16px; border-radius: 14px; }.app-header { padding: 16px 12px; padding-top: calc(16px + var(--safe-area-inset-top)); }.app-header h1 { font-size: 1.3rem; }.section-title { font-size: 1rem; }.btn { padding: 14px 16px; font-size: 0.95rem; }}
        @media (max-width: 480px) {.app-header h1 { font-size: 1.2rem; }.nav-tab .tab-text { font-size: 0.6rem; }}
        @media (max-width: 380px) {.nav-tabs { padding: 0 2px; }.nav-tab { min-width: 60px; padding: 8px 1px; }.nav-tab .tab-icon { font-size: 0.9rem; }.nav-tab .tab-text { font-size: 0.55rem; }}
        .text-center { text-align: center; }
        .mt-10 { margin-top: 10px; }
        .mt-20 { margin-top: 20px; }
        .mb-10 { margin-bottom: 10px; }
        .mb-20 { margin-bottom: 20px; }
        .hidden { display: none !important; }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .justify-between { justify-content: space-between; }
        .gap-10 { gap: 10px; }
        .scroll-to-top {position: fixed; bottom: 80px; right: 16px; width: 50px; height: 50px; border-radius: 50%;background: var(--primary-color); color: white; border: none; font-size: 20px; cursor: pointer;box-shadow: 0 4px 20px rgba(0,0,0,0.15); display: none; z-index: 1000; transition: all 0.3s ease;align-items: center; justify-content: center;}
        .scroll-to-top.visible { display: flex; }
        .scroll-to-top:active { transform: scale(0.95); }
        .settings-group { margin-bottom: 24px; }
        .settings-label { font-weight: 600; margin-bottom: 10px; color: var(--text-color); font-size: 0.95rem; }
        .settings-description { font-size: 0.8rem; color: var(--text-light); margin-bottom: 14px; }
        .toggle-switch { position: relative; display: inline-block; width: 50px; height: 26px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: var(--border-color); transition: .4s; border-radius: 34px; }
        .toggle-slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 3px; bottom: 3px; background: white; transition: .4s; border-radius: 50%; }
        input:checked + .toggle-slider { background: var(--primary-color); }
        input:checked + .toggle-slider:before { transform: translateX(24px); }
        .toggle-container { display: flex; justify-content: space-between; align-items: center; padding: 14px 0; border-bottom: 1px solid var(--border-color); }
        .toggle-label { font-weight: 500; color: var(--text-color); }
        .inspection-fields {background: rgba(99, 102, 241, 0.05); border-radius: 12px; padding: 16px; margin-top: 14px; border: 2px dashed var(--primary-color);}
        .inspection-item {background: var(--card-bg); border-radius: 12px; padding: 16px; margin-bottom: 14px;border: 1px solid var(--border-color); transition: all 0.3s ease; position: relative;}
        .inspection-item.urgent { border-left: 4px solid var(--warning-color); }
        .inspection-item.completed { opacity: 0.7; background: rgba(16, 185, 129, 0.05); }
        .inspection-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .inspection-title { font-weight: 700; font-size: 1rem; color: var(--text-color); }
        .inspection-date {font-size: 0.85rem; color: var(--text-light); background: var(--primary-color); color: white;padding: 4px 8px; border-radius: 16px; font-weight: 600;}
        .inspection-details { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.8rem; margin-bottom: 14px; }
        .inspection-actions { display: flex; gap: 6px; }
        .badge { display: inline-block; padding: 4px 8px; border-radius: 10px; font-size: 0.7rem; font-weight: 600; margin-right: 6px; margin-bottom: 6px; }
        .badge-warning { background: rgba(245,158,11,0.1); color: var(--warning-color); }
        .badge-success { background: rgba(16,185,129,0.1); color: var(--success-color); }
        .badge-info { background: rgba(99,102,241,0.1); color: var(--primary-color); }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0%{ transform: scale(1);} 50%{ transform: scale(1.05);} 100%{ transform: scale(1);} }
        .shake { animation: shake 0.5s; }
        @keyframes shake { 0%,100%{ transform: translateX(0);} 25%{ transform: translateX(-6px);} 75%{ transform: translateX(6px);} }
        @supports(padding: max(0px)) {.app-header, .tab-content, .nav-tabs {padding-left: max(16px, env(safe-area-inset-left));padding-right: max(16px, env(safe-area-inset-right));}.scroll-to-top {right: max(16px, env(safe-area-inset-right));bottom: max(80px, calc(80px + env(safe-area-inset-bottom)));}}
        .modal { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.7); display:flex; align-items:center; justify-content:center; z-index:10000; padding:20px; }
        .modal.hidden { display: none; }
        .modal-content {background: var(--card-bg); border-radius: 20px; width: 100%; max-width: 600px; max-height: 90vh; overflow: hidden;box-shadow: 0 20px 60px rgba(0,0,0,0.3); animation: modalSlideIn 0.3s ease;}
        @keyframes modalSlideIn { from { opacity:0; transform: translateY(-50px) scale(0.9);} to { opacity:1; transform: translateY(0) scale(1);} }
        .modal-header { display: flex; justify-content: space-between; align-items: center; padding: 20px; border-bottom: 1px solid var(--border-color); background: var(--primary-color); color: white; }
        .modal-header h3 { margin:0; font-size:1.2rem; }
        .modal-close { background:none; border:none; color:white; font-size:24px; cursor:pointer; width:30px; height:30px; display:flex; align-items:center; justify-content:center; }
        .modal-body { padding:20px; max-height:60vh; overflow-y:auto; }
        .modal-actions { padding:20px; border-top:1px solid var(--border-color); display:flex; gap:10px; }
        .report-identifiers { background: rgba(99,102,241,0.05); border-radius:12px; padding:16px; margin-bottom:16px; border:2px solid var(--primary-color); }
        .identifier-item { display:flex; justify-content:space-between; margin-bottom:8px; padding:8px 0; border-bottom:1px solid var(--border-color); }
        .identifier-item:last-child { margin-bottom:0; border-bottom:none; }
        #toastContainer {position: fixed;bottom: calc(20px + var(--safe-area-inset-bottom));left: 50%;transform: translateX(-50%);z-index: 10001;display: flex;flex-direction: column;gap: 8px;pointer-events: none;max-width: 90vw;width: 400px;}
        .toast {pointer-events: all;background: var(--card-bg);color: var(--text-color);border: 1px solid var(--border-color);border-left: 4px solid var(--primary-color);border-radius: 12px;padding: 16px;box-shadow: var(--shadow-hover);opacity: 0;transform: translateY(6px);transition: all .3s ease;font-weight: 500;max-width: 100%;word-wrap: break-word;}
        .toast.show { opacity: 1; transform: translateY(0); }
        .toast-success { border-left-color: var(--success-color); }
        .toast-info { border-left-color: var(--primary-color); }
        .toast-warning { border-left-color: var(--warning-color); }
        .toast-enhanced {max-width: 400px;text-align: left;}
        .toast-title {font-weight: 700;font-size: 1rem;margin-bottom: 8px;color: var(--primary-color);display: flex;align-items: center;gap: 8px;}
        .toast-description {font-size: 0.9rem;line-height: 1.4;margin-bottom: 8px;color: var(--text-color);}
        .toast-examples {font-size: 0.85rem;color: var(--text-light);font-style: italic;border-top: 1px solid var(--border-color);padding-top: 8px;margin-top: 8px;}
        .toast-examples strong {color: var(--text-color);font-weight: 600;}
        .save-indicator {position: fixed;top: 20px;right: 20px;background: var(--success-color);color: white;padding: 8px 16px;border-radius: 8px;font-size: 0.8rem;z-index: 10002;opacity: 0;transform: translateY(-10px);transition: all 0.3s ease;}
        .save-indicator.visible { opacity: 1; transform: translateY(0); }
        .tooltip {position: fixed;background: var(--card-bg);color: var(--text-color);padding: 12px 16px;border-radius: 8px;box-shadow: var(--shadow-hover);border: 1px solid var(--border-color);max-width: 300px;font-size: 0.8rem;line-height: 1.4;z-index: 10003;pointer-events: none;}
        .mileage-conversion {font-size: 0.75rem;color: var(--text-light);margin-top: 4px;font-style: italic;}
        @media (max-width: 480px) {#toastContainer {width: 95vw;max-width: 95vw;}.toast {padding: 14px;}.toast-enhanced {max-width: 100%;}}
        @keyframes errorPulse {0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }}
        .pulse {animation: errorPulse 1.5s infinite;}
        input:invalid, select:invalid {border-color: var(--danger-color) !important;}
        .required-field::after {content: " *";color: var(--danger-color);}
        .toast-close {background: none;border: none;font-size: 18px;cursor: pointer;margin-left: auto;padding: 0;width: 20px;height: 20px;display: flex;align-items: center;justify-content: center;color: var(--text-light);}
        .toast-close:hover {color: var(--text-color);}
        .inspection-item.priority-high {border-left: 4px solid var(--danger-color);}
        .inspection-item.priority-medium {border-left: 4px solid var(--warning-color);}
        .inspection-item.priority-low {border-left: 4px solid var(--success-color);}
        .priority-badge {font-size: 0.7rem;padding: 2px 6px;border-radius: 8px;font-weight: 600;}
        .priority-high { background: rgba(239, 68, 68, 0.1); color: var(--danger-color); }
        .priority-medium { background: rgba(245, 158, 11, 0.1); color: var(--warning-color); }
        .priority-low { background: rgba(16, 185, 129, 0.1); color: var(--success-color); }
        .photo-upload-section {margin-top: 16px;padding: 16px;background: rgba(99, 102, 241, 0.05);border-radius: 12px;border: 2px dashed var(--primary-color);}
        .photo-upload-label {display: block;margin-bottom: 10px;font-weight: 600;color: var(--primary-color);}
        .photo-upload-input {width: 100%;padding: 12px;border: 2px dashed var(--border-color);border-radius: 8px;background: var(--card-bg);cursor: pointer;transition: all 0.3s ease;margin-bottom: 12px;}
        .photo-upload-input:hover {border-color: var(--primary-color);background: rgba(99, 102, 241, 0.05);}
        .photo-preview-container {display: grid;grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));gap: 10px;margin-top: 12px;}
        .photo-preview-item {position: relative;border-radius: 8px;overflow: hidden;border: 2px solid var(--border-color);transition: all 0.3s ease;}
        .photo-preview-item:hover {border-color: var(--primary-color);transform: scale(1.05);}
        .photo-preview-img {width: 100%;height: 80px;object-fit: cover;display: block;}
        .photo-preview-remove {position: absolute;top: 4px;right: 4px;background: var(--danger-color);color: white;border: none;border-radius: 50%;width: 20px;height: 20px;font-size: 12px;cursor: pointer;display: flex;align-items: center;justify-content: center;}
        .photo-counter {font-size: 0.8rem;color: var(--text-light);margin-top: 8px;text-align: center;}
        .photo-storage-warning {background: rgba(245, 158, 11, 0.1);border: 1px solid var(--warning-color);border-radius: 8px;padding: 10px;margin-top: 10px;font-size: 0.8rem;color: var(--warning-color);}
        .pdf-page {width: 100%;min-height: 280mm;padding: 8mm;background: white;position: relative;page-break-after: always;box-sizing: border-box;}
        .pdf-page:last-child {page-break-after: auto;}
        .page-break {page-break-before: always;}
        @media print {.pdf-page {page-break-after: always;}.pdf-page:last-child {page-break-after: auto;}}
    </style>
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1>üèçÔ∏è –ú–æ—Ç–æ–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PRO</h1>
            <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥–±–æ—Ä –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤</p>
        </header>
        <nav class="nav-tabs">
            <button class="nav-tab active" data-tab="report"><span class="tab-icon">üìä</span><span class="tab-text">–û—Ç—á–µ—Ç</span></button>
            <button class="nav-tab" data-tab="inspections"><span class="tab-icon">üìÖ</span><span class="tab-text">–ü—Ä–æ–≤–µ—Ä–∫–∏</span></button>
            <button class="nav-tab" data-tab="database"><span class="tab-icon">üóÉÔ∏è</span><span class="tab-text">–ë–∞–∑–∞</span></button>
            <button class="nav-tab" data-tab="stats"><span class="tab-icon">üìà</span><span class="tab-text">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span></button>
            <button class="nav-tab" data-tab="settings"><span class="tab-icon">‚öôÔ∏è</span><span class="tab-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span></button>
        </nav>
        <div id="report-tab" class="tab-content active">
            <div class="card">
                <h2 class="section-title">–°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—á–µ—Ç–∞</h2>
                <div class="progress-container">
                    <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
                    <div class="progress-text" id="progressText">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</div>
                </div>
                <div class="alert alert-success hidden" id="successAlert"></div>
                <div class="alert alert-info hidden" id="savingsAlert"></div>
                <form id="diagnosticForm">
                    <div class="section-title">üìã –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</div>
                    <div class="card">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="brand">–ú–∞—Ä–∫–∞ –º–æ—Ç–æ—Ü–∏–∫–ª–∞</label>
                                <select id="brand" name="brand" required data-tooltip="–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É –º–æ—Ç–æ—Ü–∏–∫–ª–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ '–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞' –¥–ª—è –≤–≤–æ–¥–∞ –≤—Ä—É—á–Ω—É—é">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É --</option>
                                    <option value="Honda">Honda</option>
                                    <option value="Yamaha">Yamaha</option>
                                    <option value="Kawasaki">Kawasaki</option>
                                    <option value="Suzuki">Suzuki</option>
                                    <option value="BMW">BMW</option>
                                    <option value="KTM">KTM</option>
                                    <option value="Ducati">Ducati</option>
                                    <option value="Triumph">Triumph</option>
                                    <option value="Harley-Davidson">Harley-Davidson</option>
                                    <option value="–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞">–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞</option>
                                </select>
                                <input type="text" id="brand_custom" name="brand_custom" placeholder="–í–≤–µ–¥–∏—Ç–µ –º–∞—Ä–∫—É" class="hidden mt-10">
                            </div>
                            <div class="form-group">
                                <label for="model">–ú–æ–¥–µ–ª—å</label>
                                <select id="model" name="model" required data-tooltip="–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –º–æ—Ç–æ—Ü–∏–∫–ª–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å' –¥–ª—è –≤–≤–æ–¥–∞ –≤—Ä—É—á–Ω—É—é">
                                    <option value="">-- –°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É --</option>
                                </select>
                                <input type="text" id="model_custom" name="model_custom" placeholder="–í–≤–µ–¥–∏—Ç–µ –º–æ–¥–µ–ª—å" class="hidden mt-10">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="year">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</label>
                                <input type="number" id="year" name="year" placeholder="2023" min="1990" max="2030" required>
                            </div>
                            <div class="form-group">
                                <label for="mileage">–ü—Ä–æ–±–µ–≥</label>
                                <div class="mileage-row">
                                    <div class="mileage-input-group">
                                        <input type="number" id="mileage_km" name="mileage_km" placeholder="—Ç—ã—Å. –∫–º" step="0.1" min="0">
                                        <span class="mileage-label">—Ç—ã—Å. –∫–º</span>
                                    </div>
                                    <div class="mileage-separator">‚áÑ</div>
                                    <div class="mileage-input-group">
                                        <input type="number" id="mileage_miles" name="mileage_miles" placeholder="—Ç—ã—Å. –º–∏–ª—å" step="0.1" min="0">
                                        <span class="mileage-label">—Ç—ã—Å. –º–∏–ª—å</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="vin">VIN / –ù–æ–º–µ—Ä —Ä–∞–º—ã</label>
                                <input type="text" id="vin" name="vin" placeholder="ZAB12345678901234" pattern="[A-HJ-NPR-Z0-9]{17}" title="17-–∑–Ω–∞—á–Ω—ã–π VIN –Ω–æ–º–µ—Ä (—Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã)" data-tooltip="–£–Ω–∏–∫–∞–ª—å–Ω—ã–π 17-–∑–Ω–∞—á–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞. –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞—Ö –∏ –≥–æ–¥–µ –≤—ã–ø—É—Å–∫–∞.">
                            </div>
                            <div class="form-group">
                                <label for="engine_number">–ú–æ–¥–µ–ª—å / N –¥–≤–∏–≥–∞—Ç–µ–ª—è</label>
                                <input type="text" id="engine_number" name="engine_number" placeholder="CBR600RR / JH2SC4600XM123456" data-tooltip="–ú–æ–¥–µ–ª—å –¥–≤–∏–≥–∞—Ç–µ–ª—è –∏/–∏–ª–∏ —Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä –¥–≤–∏–≥–∞—Ç–µ–ª—è. –£–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–∞–º–æ–º –¥–≤–∏–≥–∞—Ç–µ–ª–µ –∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö.">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="license_plate">–ì–æ—Å. –Ω–æ–º–µ—Ä</label>
                                <input type="text" id="license_plate" name="license_plate" placeholder="–ê123–ë–í77" data-tooltip="–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä–Ω–æ–π –∑–Ω–∞–∫, –≤—ã–¥–∞–≤–∞–µ–º—ã–π –ø—Ä–∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –Ω–∞ —É—á–µ—Ç –≤ –ì–ò–ë–î–î.">
                            </div>
                            <div class="form-group">
                                <label for="motorcycle_class">–ö–ª–∞—Å—Å –º–æ—Ç–æ—Ü–∏–∫–ª–∞</label>
                                <select id="motorcycle_class" name="motorcycle_class" data-tooltip="–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å –º–æ—Ç–æ—Ü–∏–∫–ª–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å --</option>
                                    <option value="–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ (Sport)">–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ (Sport)</option>
                                    <option value="–ì–æ–ª—ã–µ (Naked)">–ì–æ–ª—ã–µ (Naked)</option>
                                    <option value="–ö—Ä—É–∏–∑–µ—Ä—ã / –ß–æ–ø–ø–µ—Ä—ã">–ö—Ä—É–∏–∑–µ—Ä—ã / –ß–æ–ø–ø–µ—Ä—ã</option>
                                    <option value="–¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ (Touring)">–¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ (Touring)</option>
                                    <option value="–°–ø–æ—Ä—Ç-—Ç—É—Ä–∏–∑–º (Sport-Touring)">–°–ø–æ—Ä—Ç-—Ç—É—Ä–∏–∑–º (Sport-Touring)</option>
                                    <option value="–ö–ª–∞—Å—Å–∏–∫–∞ / –†–µ—Ç—Ä–æ (Classic)">–ö–ª–∞—Å—Å–∏–∫–∞ / –†–µ—Ç—Ä–æ (Classic)</option>
                                    <option value="–ö–∞—Ñ–µ-—Ä–µ–π—Å–µ—Ä—ã (Cafe Racer)">–ö–∞—Ñ–µ-—Ä–µ–π—Å–µ—Ä—ã (Cafe Racer)</option>
                                    <option value="–ú–æ—Ç–æ–∫—Ä–æ—Å—Å (Motocross)">–ú–æ—Ç–æ–∫—Ä–æ—Å—Å (Motocross)</option>
                                    <option value="–≠–Ω–¥—É—Ä–æ (Enduro)">–≠–Ω–¥—É—Ä–æ (Enduro)</option>
                                    <option value="–¢—Ä—ç–π–ª (Trail)">–¢—Ä—ç–π–ª (Trail)</option>
                                    <option value="–≠–¥–≤–µ–Ω—á–µ—Ä (Adventure)">–≠–¥–≤–µ–Ω—á–µ—Ä (Adventure)</option>
                                    <option value="–°—É–ø–µ—Ä–º–æ—Ç–æ (Supermoto)">–°—É–ø–µ—Ä–º–æ—Ç–æ (Supermoto)</option>
                                    <option value="–°–∫—É—Ç–µ—Ä—ã (Scooter)">–°–∫—É—Ç–µ—Ä—ã (Scooter)</option>
                                    <option value="–ú–æ–ø–µ–¥—ã / –õ–µ–≥–∫–∏–µ –º–æ—Ç–æ—Ü–∏–∫–ª—ã">–ú–æ–ø–µ–¥—ã / –õ–µ–≥–∫–∏–µ –º–æ—Ç–æ—Ü–∏–∫–ª—ã</option>
                                    <option value="–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –º–æ—Ç–æ—Ü–∏–∫–ª—ã">–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –º–æ—Ç–æ—Ü–∏–∫–ª—ã</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="gearbox_type">–¢–∏–ø –∫–æ—Ä–æ–±–∫–∏</label>
                                <select id="gearbox_type" name="gearbox_type" data-tooltip="–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–æ—Ä–æ–±–∫–∏ –ø–µ—Ä–µ–¥–∞—á –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø --</option>
                                    <option value="–ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∞—è">–ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∞—è</option>
                                    <option value="–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è (DCT / –í–∞—Ä–∏–∞—Ç–æ—Ä)">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è (DCT / –í–∞—Ä–∏–∞—Ç–æ—Ä)</option>
                                    <option value="–ü–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è">–ü–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="origin_country">–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –º–æ—Ç–æ—Ü–∏–∫–ª–∞</label>
                                <select id="origin_country" name="origin_country" data-tooltip="–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –º–æ—Ç–æ—Ü–∏–∫–ª–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ --</option>
                                    <option value="–î–∏–ª–µ—Ä—Å–∫–∏–π –ü–¢–° –†–§">–î–∏–ª–µ—Ä—Å–∫–∏–π –ü–¢–° –†–§</option>
                                    <option value="–Ø–ø–æ–Ω–∏—è">–Ø–ø–æ–Ω–∏—è</option>
                                    <option value="–ï–≤—Ä–æ–ø–∞">–ï–≤—Ä–æ–ø–∞</option>
                                    <option value="–°–®–ê / –ê—É–∫—Ü–∏–æ–Ω">–°–®–ê / –ê—É–∫—Ü–∏–æ–Ω</option>
                                    <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="auction_type">–ê—É–∫—Ü–∏–æ–Ω / –ø–æ—Å—Ç–∞–≤–∫–∞</label>
                                <select id="auction_type" name="auction_type" data-tooltip="–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∞—É–∫—Ü–∏–æ–Ω–∞ –∏–ª–∏ –ø–æ—Å—Ç–∞–≤–∫–∏ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø --</option>
                                    <option value="–ë–µ–∑ –∞—É–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –ª–∏—Å—Ç–∞">–ë–µ–∑ –∞—É–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –ª–∏—Å—Ç–∞</option>
                                    <option value="–ê—É–∫—Ü–∏–æ–Ω –Ø–ø–æ–Ω–∏–∏">–ê—É–∫—Ü–∏–æ–Ω –Ø–ø–æ–Ω–∏–∏</option>
                                    <option value="–ê—É–∫—Ü–∏–æ–Ω –°–®–ê (–±–∏—Ç—ã–π)">–ê—É–∫—Ü–∏–æ–Ω –°–®–ê (–±–∏—Ç—ã–π)</option>
                                    <option value="–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π / –¥–∏–ª–µ—Ä">–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π / –¥–∏–ª–µ—Ä</option>
                                    <option value="–ß–∞—Å—Ç–Ω–∏–∫ –ø–æ –î–ö–ü">–ß–∞—Å—Ç–Ω–∏–∫ –ø–æ –î–ö–ü</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group hidden" id="auctionLotNumberGroup">
                            <label for="auction_lot_number">–ù–æ–º–µ—Ä –∞—É–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –ª–∏—Å—Ç–∞ –∏–ª–∏ —Å—Å—ã–ª–∫–∞ –Ω–∞ –ª–æ—Ç</label>
                            <input type="text" id="auction_lot_number" name="auction_lot_number" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1234567 –∏–ª–∏ https://..." data-tooltip="–£–∫–∞–∂–∏—Ç–µ –Ω–æ–º–µ—Ä –∞—É–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –ª–∏—Å—Ç–∞ –∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –ª–æ—Ç –¥–ª—è —è–ø–æ–Ω—Å–∫–∏—Ö –∏–ª–∏ –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏—Ö –∞—É–∫—Ü–∏–æ–Ω–æ–≤">
                        </div>
                    </div>
                    <div class="section-title">üìë –î–æ–∫—É–º–µ–Ω—Ç—ã –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å</div>
                    <div class="card">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="legal_check">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</label>
                                <select id="legal_check" name="legal_check" data-tooltip="–ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –ª–∏ –ø–æ–ª–Ω–∞—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ì–ò–ë–î–î, —Ä–µ–µ—Å—Ç—Ä –∑–∞–ª–æ–≥–æ–≤ –∏ —Ç.–¥.)">
                                    <option value="–ü—Ä–æ–≤–µ–¥–µ–Ω–∞">‚úÖ –ü—Ä–æ–≤–µ–¥–µ–Ω–∞</option>
                                    <option value="–ù–µ –ø—Ä–æ–≤–æ–¥–∏–ª–∞—Å—å">‚ùå –ù–µ –ø—Ä–æ–≤–æ–¥–∏–ª–∞—Å—å</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="pts_type">–¢–∏–ø –ü–¢–°</label>
                                <select id="pts_type" name="pts_type" data-tooltip="–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–∞—Å–ø–æ—Ä—Ç–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ü–¢–° --</option>
                                    <option value="–ë—É–º–∞–∂–Ω—ã–π –ü–¢–°">–ë—É–º–∞–∂–Ω—ã–π –ü–¢–°</option>
                                    <option value="–î—É–±–ª–∏–∫–∞—Ç –ë—É–º–∞–∂–Ω—ã–π –ü–¢–°">–î—É–±–ª–∏–∫–∞—Ç –ë—É–º–∞–∂–Ω—ã–π –ü–¢–°</option>
                                    <option value="–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ (–≠–ü–¢–°)">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ (–≠–ü–¢–°)</option>
                                    <option value="–ù–µ –≤—ã–¥–∞–Ω">–ù–µ –≤—ã–¥–∞–Ω</option>
                                    <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="legal_status">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å –º–æ—Ç–æ—Ü–∏–∫–ª–∞</label>
                                <select id="legal_status" name="legal_status" data-tooltip="–í—ã–±–µ—Ä–∏—Ç–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å –º–æ—Ç–æ—Ü–∏–∫–ª–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è">
                                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å --</option>
                                    <option value="–ù–∞ —É—á–µ—Ç–µ –§–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –õ–∏—Ü–∞">–ù–∞ —É—á–µ—Ç–µ –§–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –õ–∏—Ü–∞</option>
                                    <option value="–ù–∞ —É—á–µ—Ç–µ –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –õ–∏—Ü–∞">–ù–∞ —É—á–µ—Ç–µ –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –õ–∏—Ü–∞</option>
                                    <option value="–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞</option>
                                    <option value="–ü—Ä–æ–¥–∞–∂–∞ –¢–° –Ω–µ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –Ω–∞ —É—á—ë—Ç">–ü—Ä–æ–¥–∞–∂–∞ –¢–° –Ω–µ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –Ω–∞ —É—á—ë—Ç</option>
                                    <option value="–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è">–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è</option>
                                    <option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="legal_comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º</label>
                            <textarea id="legal_comment" name="legal_comment" rows="2" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –ê–≤—Ç–æ–∫–æ–¥ –∏ –ì–ò–ë–î–î, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–µ—Ç, –ü–¢–° –æ—Ä–∏–≥–∏–Ω–∞–ª..." data-tooltip="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º: –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ü–¢–°, —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤, –∏—Å—Ç–æ—Ä–∏—è –≤–ª–∞–¥–µ–Ω–∏—è –∏ —Ç.–¥."></textarea>
                        </div>
                    </div>
                    <div class="section-title">üí∞ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ</div>
                    <div class="card">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="price">–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞</label>
                                <input type="text" id="price" name="price" placeholder="350 —Ç—ã—Å." data-tooltip="–ò–∑–Ω–∞—á–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è –ø—Ä–æ–¥–∞–≤—Ü–æ–º –∑–∞ –º–æ—Ç–æ—Ü–∏–∫–ª. –§–æ—Ä–º–∞—Ç: 350 —Ç—ã—Å., 1.2 –º–ª–Ω, 500000">
                            </div>
                            <div class="form-group">
                                <label for="objective_cost">–û–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</label>
                                <input type="text" id="objective_cost" name="objective_cost" placeholder="320 —Ç—ã—Å." data-tooltip="–†–µ–∞–ª—å–Ω–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –º–æ—Ç–æ—Ü–∏–∫–ª–∞ —Å —É—á–µ—Ç–æ–º –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –ø—Ä–æ–±–µ–≥–∞ –∏ —Ä—ã–Ω–æ—á–Ω–æ–π –∫–æ–Ω—ä—é–Ω–∫—Ç—É—Ä—ã. –§–æ—Ä–º–∞—Ç: 320 —Ç—ã—Å., 1 –º–ª–Ω, 450000">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="seller_discount">–°–∫–∏–¥–∫–∞ —Å –ø—Ä–æ–¥–∞–≤—Ü–∞</label>
                                <input type="text" id="seller_discount" name="seller_discount" placeholder="15 —Ç—ã—Å." data-tooltip="–°—É–º–º–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —É–¥–∞–ª–æ—Å—å —Å–Ω–∏–∑–∏—Ç—å —Ü–µ–Ω—É –≤ —Ö–æ–¥–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–≤ —Å –ø—Ä–æ–¥–∞–≤—Ü–æ–º. –§–æ—Ä–º–∞—Ç: 15 —Ç—ã—Å., 20 —Ç—ã—Å., 5000">
                            </div>
                            <div class="form-group">
                                <label for="investment_cost">–°—Ç–æ–∏–º–æ—Å—Ç—å –≤–ª–æ–∂–µ–Ω–∏–π</label>
                                <input type="text" id="investment_cost" name="investment_cost" placeholder="5 —Ç—ã—Å." data-tooltip="–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ —Ä–µ–º–æ–Ω—Ç, –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ, –∑–∞–º–µ–Ω—É —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –∏ –¥—Ä—É–≥–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤–ª–æ–∂–µ–Ω–∏—è. –§–æ—Ä–º–∞—Ç: 5 —Ç—ã—Å., 10 —Ç—ã—Å., 3000">
                            </div>
                        </div>
                    </div>
                    <div class="section-title">üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ—Ç–æ—Ü–∏–∫–ª–∞</div>
                    <div class="card">
                        <div class="form-group">
                            <label for="inspection_exterior">–¢–∏—Ç—É–ª—å–Ω—ã–π –ª–∏—Å—Ç</label>
                            <textarea id="inspection_exterior" name="inspection_exterior" rows="2" placeholder="–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Ç–∏—Ç—É–ª—å–Ω–æ–≥–æ –ª–∏—Å—Ç–∞..." data-tooltip="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Ç–∏—Ç—É–ª—å–Ω–æ–≥–æ –ª–∏—Å—Ç–∞ –æ—Ç—á–µ—Ç–∞"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —Ç–∏—Ç—É–ª—å–Ω–æ–≥–æ –ª–∏—Å—Ç–∞ (–º–∞–∫—Å–∏–º—É–º 1)</label>
                                <input type="file" class="photo-upload-input" data-section="exterior" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="exterior"></div>
                                <div class="photo-counter" data-section="exterior">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/1</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_geometry">–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</label>
                            <textarea id="inspection_geometry" name="inspection_geometry" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ –º–æ—Ç–æ—Ü–∏–∫–ª–∞..." data-tooltip="–í–Ω–µ—à–Ω–∏–π –≤–∏–¥"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="geometry" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="geometry"></div>
                                <div class="photo-counter" data-section="geometry">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_engine">–û—Å–º–æ—Ç—Ä –û–±—â–∏–π</label>
                            <textarea id="inspection_engine" name="inspection_engine" rows="2" placeholder="–û–±—â–∏–π –æ—Å–º–æ—Ç—Ä –º–æ—Ç–æ—Ü–∏–∫–ª–∞..." data-tooltip="–û—Å–º–æ—Ç—Ä –û–±—â–∏–π"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –æ–±—â–µ–≥–æ –æ—Å–º–æ—Ç—Ä–∞ (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="engine" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="engine"></div>
                                <div class="photo-counter" data-section="engine">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_consumables">–°–æ—Å—Ç–æ—è–Ω–∏–µ –õ–ö–ü</label>
                            <textarea id="inspection_consumables" name="inspection_consumables" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ –ª–∞–∫–æ–∫—Ä–∞—Å–æ—á–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è..." data-tooltip="–°–æ—Å—Ç–æ—è–Ω–∏–µ –õ–ö–ü"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –õ–ö–ü (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="consumables" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="consumables"></div>
                                <div class="photo-counter" data-section="consumables">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_electrical">–°–æ—Å—Ç–æ—è–Ω–∏–µ –°–∏–¥–µ–Ω—å—è</label>
                            <textarea id="inspection_electrical" name="inspection_electrical" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏–¥–µ–Ω—å—è..." data-tooltip="–°–æ—Å—Ç–æ—è–Ω–∏–µ –°–∏–¥–µ–Ω—å—è"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏–¥–µ–Ω—å—è (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="electrical" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="electrical"></div>
                                <div class="photo-counter" data-section="electrical">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_suspension">–û—Å–º–æ—Ç—Ä –û–ø—Ç–∏–∫–∏</label>
                            <textarea id="inspection_suspension" name="inspection_suspension" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ –æ–ø—Ç–∏–∫–∏: —Ñ–∞—Ä—ã, –ø–æ–≤–æ—Ä–æ—Ç–Ω–∏–∫–∏, —Å—Ç–æ–ø-—Å–∏–≥–Ω–∞–ª—ã..." data-tooltip="–û—Å–º–æ—Ç—Ä –û–ø—Ç–∏–∫–∏"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –æ–ø—Ç–∏–∫–∏ (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="suspension" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="suspension"></div>
                                <div class="photo-counter" data-section="suspension">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_fuel_system">–†–∞–º–∞, –®–≤—ã, –í—Ç–æ—Ä–∏—á–Ω–∞—è –æ–∫—Ä–∞—Å–∫–∞</label>
                            <textarea id="inspection_fuel_system" name="inspection_fuel_system" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–º—ã, —à–≤–æ–≤, –≤—Ç–æ—Ä–∏—á–Ω–æ–π –æ–∫—Ä–∞—Å–∫–∏..." data-tooltip="–†–∞–º–∞, –®–≤—ã, –í—Ç–æ—Ä–∏—á–Ω–∞—è –æ–∫—Ä–∞—Å–∫–∞"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ä–∞–º—ã, —à–≤–æ–≤, –æ–∫—Ä–∞—Å–∫–∏ (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="fuel_system" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="fuel_system"></div>
                                <div class="photo-counter" data-section="fuel_system">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_brake_system">–ö—Ä–∏–º–∏–Ω–∞–ª, –í–∏–Ω –Ω–æ–º–µ—Ä–∞, –ù–æ–º–µ—Ä–∞ –î–≤–∏–≥–∞—Ç–µ–ª—è</label>
                            <textarea id="inspection_brake_system" name="inspection_brake_system" rows="2" placeholder="–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫—Ä–∏–º–∏–Ω–∞–ª, —Å–≤–µ—Ä–∫–∞ VIN –∏ –Ω–æ–º–µ—Ä–æ–≤ –¥–≤–∏–≥–∞—Ç–µ–ª—è..." data-tooltip="–ö—Ä–∏–º–∏–Ω–∞–ª, –í–∏–Ω –Ω–æ–º–µ—Ä–∞, –ù–æ–º–µ—Ä–∞ –î–≤–∏–≥–∞—Ç–µ–ª—è"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ VIN –∏ –Ω–æ–º–µ—Ä–æ–≤ (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="brake_system" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="brake_system"></div>
                                <div class="photo-counter" data-section="brake_system">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_cooling_system">–ì–µ–æ–º–µ—Ç—Ä–∏—è, –ü–æ–¥—Ä–∞–º–Ω–∏–∫–∞, —Ä—É–ª—è, –≤–∏–ª–∫–∏</label>
                            <textarea id="inspection_cooling_system" name="inspection_cooling_system" rows="2" placeholder="–ì–µ–æ–º–µ—Ç—Ä–∏—è –ø–æ–¥—Ä–∞–º–Ω–∏–∫–∞, —Ä—É–ª—è, –≤–∏–ª–∫–∏..." data-tooltip="–ì–µ–æ–º–µ—Ç—Ä–∏—è, –ü–æ–¥—Ä–∞–º–Ω–∏–∫–∞, —Ä—É–ª—è, –≤–∏–ª–∫–∏"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="cooling_system" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="cooling_system"></div>
                                <div class="photo-counter" data-section="cooling_system">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_controls">–û—Ä–≥–∞–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</label>
                            <textarea id="inspection_controls" name="inspection_controls" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ä–≥–∞–Ω–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: —Ä—É—á–∫–∏, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏..." data-tooltip="–û—Ä–≥–∞–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –æ—Ä–≥–∞–Ω–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="controls" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="controls"></div>
                                <div class="photo-counter" data-section="controls">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_additional_equipment">–ú–æ—Ç–æ—Ä–Ω—ã–π –£–∑–µ–ª</label>
                            <textarea id="inspection_additional_equipment" name="inspection_additional_equipment" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ—Ç–æ—Ä–Ω–æ–≥–æ —É–∑–ª–∞..." data-tooltip="–ú–æ—Ç–æ—Ä–Ω—ã–π –£–∑–µ–ª"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –º–æ—Ç–æ—Ä–Ω–æ–≥–æ —É–∑–ª–∞ (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="additional_equipment" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="additional_equipment"></div>
                                <div class="photo-counter" data-section="additional_equipment">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_bodywork">–¢–æ–ø–ª–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</label>
                            <textarea id="inspection_bodywork" name="inspection_bodywork" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ–ø–ª–∏–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã..." data-tooltip="–¢–æ–ø–ª–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–æ–ø–ª–∏–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="bodywork" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="bodywork"></div>
                                <div class="photo-counter" data-section="bodywork">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_electrical_new">–°–∏—Å—Ç–µ–º–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è</label>
                            <textarea id="inspection_electrical_new" name="inspection_electrical_new" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è..." data-tooltip="–°–∏—Å—Ç–µ–º–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å–∏—Å—Ç–µ–º—ã –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="electrical_new" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="electrical_new"></div>
                                <div class="photo-counter" data-section="electrical_new">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_brake_system_new">–≠–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</label>
                            <textarea id="inspection_brake_system_new" name="inspection_brake_system_new" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ —ç–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è..." data-tooltip="–≠–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —ç–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="brake_system_new" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="brake_system_new"></div>
                                <div class="photo-counter" data-section="brake_system_new">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_drive">–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</label>
                            <textarea id="inspection_drive" name="inspection_drive" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–æ—Ä–º–æ–∑–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã..." data-tooltip="–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–æ—Ä–º–æ–∑–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="drive" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="drive"></div>
                                <div class="photo-counter" data-section="drive">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_tires">–ü—Ä–∏–≤–æ–¥</label>
                            <textarea id="inspection_tires" name="inspection_tires" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞..." data-tooltip="–ü—Ä–∏–≤–æ–¥"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø—Ä–∏–≤–æ–¥–∞ (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="tires" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="tires"></div>
                                <div class="photo-counter" data-section="tires">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_suspension_front_rear">–†–µ–∑–∏–Ω–∞</label>
                            <textarea id="inspection_suspension_front_rear" name="inspection_suspension_front_rear" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–∑–∏–Ω—ã..." data-tooltip="–†–µ–∑–∏–Ω–∞"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ä–µ–∑–∏–Ω—ã (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="suspension_front_rear" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="suspension_front_rear"></div>
                                <div class="photo-counter" data-section="suspension_front_rear">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_computer_diagnostics">–ü–æ–¥–≤–µ—Å–∫–∞ –ø–µ—Ä–µ–¥, –∑–∞–¥</label>
                            <textarea id="inspection_computer_diagnostics" name="inspection_computer_diagnostics" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥–Ω–µ–π –∏ –∑–∞–¥–Ω–µ–π –ø–æ–¥–≤–µ—Å–∫–∏..." data-tooltip="–ü–æ–¥–≤–µ—Å–∫–∞ –ø–µ—Ä–µ–¥, –∑–∞–¥"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø–æ–¥–≤–µ—Å–∫–∏ (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="computer_diagnostics" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="computer_diagnostics"></div>
                                <div class="photo-counter" data-section="computer_diagnostics">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_additional_equipment_new">–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</label>
                            <textarea id="inspection_additional_equipment_new" name="inspection_additional_equipment_new" rows="2" placeholder="–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏..." data-tooltip="–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="additional_equipment_new" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="additional_equipment_new"></div>
                                <div class="photo-counter" data-section="additional_equipment_new">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inspection_final">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</label>
                            <textarea id="inspection_final" name="inspection_final" rows="2" placeholder="–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è..." data-tooltip="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ"></textarea>
                            <div class="photo-upload-section">
                                <label class="photo-upload-label">üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (–º–∞–∫—Å–∏–º—É–º 10)</label>
                                <input type="file" class="photo-upload-input" data-section="final" accept="image/*" multiple>
                                <div class="photo-preview-container" data-section="final"></div>
                                <div class="photo-counter" data-section="final">–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/10</div>
                            </div>
                        </div>
                        <div class="form-row mt-20">
                            <button type="button" class="btn btn-success" id="generateClientReportBtn" data-tooltip="–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–π –æ—Ç—á–µ—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞">üìÑ –°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞</button>
                            <button type="button" class="btn btn-secondary" id="generatePDFReportBtn" data-tooltip="–°–∫–∞—á–∞—Ç—å PDF –æ—Ç—á–µ—Ç —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏">üìä –°–∫–∞—á–∞—Ç—å PDF –æ—Ç—á–µ—Ç</button>
                        </div>
                    </div>
                    <div class="section-title">üí° –í—ã–≤–æ–¥—ã –∏ —Ä–µ—à–µ–Ω–∏–µ</div>
                    <div class="card">
                        <div class="form-group">
                            <label for="key_finding">–ö–ª—é—á–µ–≤–∞—è –Ω–∞—Ö–æ–¥–∫–∞</label>
                            <input type="text" id="key_finding" name="key_finding" placeholder="–û—Ç–ª–∏—á–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–≤–∏–≥–∞—Ç–µ–ª—è" data-tooltip="–°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—Å–º–æ—Ç—Ä–µ - –º–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º, —Ç–∞–∫ –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º">
                        </div>
                        <div class="form-group">
                            <label for="expert_verdict">–≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π –≤–µ—Ä–¥–∏–∫—Ç</label>
                            <textarea id="expert_verdict" name="expert_verdict" rows="3" placeholder="–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –º–Ω–µ–Ω–∏–µ..." data-tooltip="–†–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä—Ç–∞ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –º–æ—Ç–æ—Ü–∏–∫–ª–∞, –µ–≥–æ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞—Ö –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="decision">–†–µ—à–µ–Ω–∏–µ</label>
                            <select id="decision" name="decision" data-tooltip="–ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –æ—Å–º–æ—Ç—Ä–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏">
                                <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ --</option>
                                <option value="‚úÖ –ö—É–ø–ª–µ–Ω">‚úÖ –ö—É–ø–ª–µ–Ω</option>
                                <option value="‚ùå –ù–µ –ö—É–ø–ª–µ–Ω">‚ùå –ù–µ –ö—É–ø–ª–µ–Ω</option>
                                <option value="üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É">üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É</option>
                            </select>
                        </div>
                        <div class="inspection-fields hidden" id="inspectionFields">
                            <div class="section-title" style="font-size: 0.95rem;">üìÖ –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="inspection_date">–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏</label>
                                    <input type="date" id="inspection_date" name="inspection_date" data-tooltip="–î–∞—Ç–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–æ—Ç–æ—Ü–∏–∫–ª–∞">
                                </div>
                                <div class="form-group">
                                    <label for="inspection_time">–í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏</label>
                                    <input type="time" id="inspection_time" name="inspection_time" data-tooltip="–í—Ä–µ–º—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inspection_address">–ê–¥—Ä–µ—Å –ø—Ä–æ–≤–µ—Ä–∫–∏</label>
                                <input type="text" id="inspection_address" name="inspection_address" placeholder="–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1" data-tooltip="–¢–æ—á–Ω—ã–π –∞–¥—Ä–µ—Å, –≥–¥–µ –±—É–¥–µ—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è –æ—Å–º–æ—Ç—Ä –º–æ—Ç–æ—Ü–∏–∫–ª–∞">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="customer_phone">–¢–µ–ª–µ—Ñ–æ–Ω –∑–∞–∫–∞–∑—á–∏–∫–∞</label>
                                    <input type="tel" id="customer_phone" name="customer_phone" placeholder="+7 (900) 123-45-67" data-tooltip="–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–∫–∞–∑–∞–ª –ø—Ä–æ–≤–µ—Ä–∫—É">
                                </div>
                                <div class="form-group">
                                    <label for="seller_phone">–¢–µ–ª–µ—Ñ–æ–Ω –ø—Ä–æ–¥–∞–≤—Ü–∞</label>
                                    <input type="tel" id="seller_phone" name="seller_phone" placeholder="+7 (900) 765-43-21" data-tooltip="–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–¥–∞–µ—Ç –º–æ—Ç–æ—Ü–∏–∫–ª">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inspection_notes">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏</label>
                                <textarea id="inspection_notes" name="inspection_notes" rows="2" placeholder="–û—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏..." data-tooltip="–õ—é–±–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–µ: –æ—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è –≤—Å—Ç—Ä–µ—á–∏, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –∏ —Ç.–¥."></textarea>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn pulse" id="generateBtn" data-tooltip="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –æ—Ç—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö">üîÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç</button>
                    <div class="form-row mt-10">
                        <button type="button" class="btn btn-secondary" id="saveToDbBtn" data-tooltip="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π –æ—Ç—á–µ—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –±–∞–∑—É</button>
                        <button type="button" class="btn btn-warning" id="clearFormBtn" data-tooltip="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã –∏ –Ω–∞—á–∞—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–Ω–æ–≤–æ">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É</button>
                    </div>
                </form>
            </div>
            <div class="card hidden" id="outputCard">
                <div class="section-title">üìÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç</div>
                <div class="output-container" id="output"></div>
                <button type="button" class="btn btn-success mt-10 hidden" id="copyBtn">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π</button>
            </div>
        </div>
        <div id="inspections-tab" class="tab-content">
            <div class="card">
                <h2 class="section-title">üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏</h2>
                <div class="search-box">
                    <span class="search-icon">üîç</span>
                    <input type="text" id="searchInspections" placeholder="–ü–æ–∏—Å–∫ –ø–æ –º–∞—Ä–∫–µ, –º–æ–¥–µ–ª–∏ –∏–ª–∏ –∞–¥—Ä–µ—Å—É..." data-tooltip="–ü–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø—Ä–æ–≤–µ—Ä–∫–∞–º">
                </div>
                <div class="form-row">
                    <button class="btn btn-success" id="clearCompletedInspectionsBtn" data-tooltip="–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</button>
                </div>
                <div class="reports-list" id="inspectionsList"></div>
            </div>
        </div>
        <div id="database-tab" class="tab-content">
            <div class="card">
                <h2 class="section-title">üóÉÔ∏è –ë–∞–∑–∞ –æ—Ç—á–µ—Ç–æ–≤</h2>
                <div class="search-box">
                    <span class="search-icon">üîç</span>
                    <input type="text" id="searchReports" placeholder="–ü–æ–∏—Å–∫ –ø–æ –º–∞—Ä–∫–µ, –º–æ–¥–µ–ª–∏, VIN –∏–ª–∏ –≥–æ–¥—É..." data-tooltip="–ü–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º –æ—Ç—á–µ—Ç–∞–º">
                </div>
                <div class="reports-list" id="reportsList"></div>
            </div>
        </div>
        <div id="stats-tab" class="tab-content">
            <div class="card">
                <h2 class="section-title">üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="grid-buttons">
                    <button class="grid-btn active" data-period="week" data-tooltip="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π">–ù–µ–¥–µ–ª—è</button>
                    <button class="grid-btn" data-period="month" data-tooltip="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü">–ú–µ—Å—è—Ü</button>
                    <button class="grid-btn" data-period="quarter" data-tooltip="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π –∫–≤–∞—Ä—Ç–∞–ª">–ö–≤–∞—Ä—Ç–∞–ª</button>
                    <button class="grid-btn" data-period="year" data-tooltip="–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Ç–µ–∫—É—â–∏–π –≥–æ–¥">–ì–æ–¥</button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">–í—Å–µ–≥–æ –æ—Ç—á–µ—Ç–æ–≤</div>
                        <div class="stat-value" id="totalReports">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–£—Å–ø–µ—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫</div>
                        <div class="stat-value" id="successfulDeals">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–°—Ä–µ–¥–Ω—è—è —ç–∫–æ–Ω–æ–º–∏—è</div>
                        <div class="stat-value" id="avgSavings">0 —Ç—ã—Å.</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–ü–æ–ø—É–ª—è—Ä–Ω–∞—è –º–∞—Ä–∫–∞</div>
                        <div class="stat-value" id="popularBrand">-</div>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –ø—Ä–æ–≤–µ—Ä–æ–∫</div>
                        <div class="stat-value" id="plannedInspections">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ –ø—Ä–æ–≤–µ—Ä–æ–∫</div>
                        <div class="stat-value" id="completedInspections">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏</div>
                        <div class="stat-value" id="activeInspections">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ</div>
                        <div class="stat-value" id="overdueInspections">0</div>
                    </div>
                </div>
                <button class="btn btn-secondary" id="generateStatsBtn" data-tooltip="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –ø–æ—Å—Ç —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π">üìä –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</button>
                <div class="output-container hidden mt-20" id="statsOutput"></div>
                <button class="btn btn-success mt-10 hidden" id="copyStatsBtn" data-tooltip="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
            </div>
        </div>
        <div id="settings-tab" class="tab-content">
            <div class="card">
                <h2 class="section-title">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
                <div class="settings-group">
                    <div class="settings-label">–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</div>
                    <div class="settings-description">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–µ–º—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</div>
                    <div class="toggle-container">
                        <span class="toggle-label">–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="darkTheme" data-tooltip="–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–≤–µ—Ç–ª–æ–π –∏ —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="toggle-container">
                        <span class="toggle-label">–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="autoSave" checked data-tooltip="–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –ø—Ä–∏ –≤–≤–æ–¥–µ">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                <div class="settings-group">
                    <div class="settings-label">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</div>
                    <div class="settings-description">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏</div>
                    <div class="toggle-container">
                        <span class="toggle-label">–ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="soundNotifications" checked data-tooltip="–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –∑–≤—É–∫ –ø—Ä–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="toggle-container">
                        <span class="toggle-label">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö</span>
                        <label class="toggle-switch">
                            <input type="checkbox" id="inspectionNotifications" checked data-tooltip="–ü–æ–ª—É—á–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="reminder-input" style="display:flex; align-items:center; gap:10px; margin-top:10px;">
                        <label class="reminder-label">–ù–∞–ø–æ–º–∏–Ω–∞—Ç—å –∑–∞:</label>
                        <input type="number" id="reminderTime" name="reminderTime" min="1" max="24" value="2" style="max-width: 80px;" data-tooltip="–ó–∞ —Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏—Å—ã–ª–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ">
                        <span class="reminder-label">—á–∞—Å–∞</span>
                    </div>
                </div>
                <div class="settings-group">
                    <div class="settings-label">–†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏</div>
                    <div class="settings-description">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</div>
                    <div class="form-row">
                        <button class="btn btn-secondary" id="exportAllDataBtn" data-tooltip="–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è">üíæ –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö</button>
                        <button class="btn btn-warning" id="importAllDataBtn" data-tooltip="–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞">üì• –ò–º–ø–æ—Ä—Ç –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö</button>
                    </div>
                    <button class="btn btn-danger mt-10" id="clearStorageBtn" data-tooltip="–ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ)">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</button>
                </div>
            </div>
            <div class="card mt-20">
                <h2 class="section-title">‚ÑπÔ∏è –û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</h2>
                <div class="settings-group">
                    <p><strong>–í–µ—Ä—Å–∏—è:</strong> 2.6.0 PRO FINAL</p>
                    <p><strong>–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:</strong> –°–µ—Ä–≥–µ–π –õ–∞–Ω–¥–∏–∫</p>
                    <p><strong>–ö–æ–Ω—Ç–∞–∫—Ç—ã:</strong> 8 950 005-05-08</p>
                    <p><strong>–°–∞–π—Ç:</strong> motopodbor.ru</p>
                    <p><strong>–û–±–Ω–æ–≤–ª–µ–Ω–æ:</strong> <span id="appVersionDate">2024</span></p>
                </div>
                <button class="btn mt-20" id="installBtn" style="display: none;" data-tooltip="–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã –æ—Ñ–ª–∞–π–Ω">üì≤ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
            </div>
        </div>
    </div>
    <button class="scroll-to-top" id="scrollToTopBtn" aria-label="–ù–∞–≤–µ—Ä—Ö" data-tooltip="–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã">‚Üë</button>
    <div id="reportModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞</h3>
                <button class="modal-close" id="modalClose">√ó</button>
            </div>
            <div class="modal-body">
                <div class="report-identifiers">
                    <div class="identifier-item"><strong>VIN:</strong> <span id="modalVin">–ù–µ —É–∫–∞–∑–∞–Ω</span></div>
                    <div class="identifier-item"><strong>–ú–æ–¥–µ–ª—å / N –¥–≤–∏–≥–∞—Ç–µ–ª—è:</strong> <span id="modalEngineNumber">–ù–µ —É–∫–∞–∑–∞–Ω</span></div>
                    <div class="identifier-item"><strong>–ì–æ—Å. –Ω–æ–º–µ—Ä:</strong> <span id="modalLicensePlate">–ù–µ —É–∫–∞–∑–∞–Ω</span></div>
                    <div class="identifier-item"><strong>–ú–æ—Ç–æ—Ü–∏–∫–ª:</strong> <span id="modalBikeInfo">-</span></div>
                </div>
                <div class="output-container modal-output" id="modalOutput"></div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="copyModalReport">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π</button>
                <button class="btn" id="closeModal">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>
    <div class="save-indicator" id="saveIndicator">üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ</div>
    <div id="toastContainer" aria-live="polite" aria-atomic="true"></div>
    <script>
        const app = {
            modules: {},
            config: {
                modelsDatabase: {
                    "Honda": ["CB125F", "CB300R", "CB500X", "CB650R", "CBR500R", "CBR650R", "CBR1000RR-R Fireblade", "CRF300L", "CRF450R", "Africa Twin", "Gold Wing", "Rebel 500", "Rebel 1100", "PCX160", "ADV160", "Forza 350", "CT125", "Monkey 125", "Super Cub C125", "NM4 Vultus", "VFR800F"],
                    "Yamaha": ["MT-07", "MT-09", "MT-10", "MT-15", "MT-125", "YZF-R1", "YZF-R6", "YZF-R7", "YZF-R3", "YZF-R125", "XMAX", "TMAX", "Tracer 9", "Tracer 7", "XSR900", "XSR700", "XSR155", "Tenere 700", "WR155R", "NMAX", "YZ450F", "YZ250F"],
                    "Kawasaki": ["Ninja ZX-10R", "Ninja ZX-6R", "Ninja 650", "Ninja 400", "Ninja 300", "Ninja 250", "Ninja 125", "Z900", "Z800", "Z650", "Z400", "Z300", "Z250", "Z125", "Versys 650", "Versys 300", "Vulcan S", "Vulcan 900", "W800", "KLX230", "KLX140", "KX450", "KX250"],
                    "Suzuki": ["GSX-R1000", "GSX-R750", "GSX-R600", "GSX-R125", "GSX-S1000", "GSX-S750", "GSX-S125", "SV650", "V-Strom 650", "V-Strom 1050", "V-Strom 250", "Hayabusa", "Burgman 400", "Burgman 200", "RM-Z450", "RM-Z250"],
                    "BMW": ["S1000RR", "S1000XR", "S1000R", "R1250GS", "R1250RT", "R1250R", "R1250RS", "F900R", "F900XR", "F750GS", "F850GS", "G310R", "G310GS", "C400X", "C400GT", "K1600GT", "K1600B"],
                    "KTM": ["1290 Super Duke R", "1290 Super Adventure", "790 Duke", "790 Adventure", "390 Duke", "390 Adventure", "250 Duke", "125 Duke", "690 Enduro", "690 SMC", "450 EXC", "350 EXC", "250 EXC", "Freeride E-XC"],
                    "Ducati": ["Panigale V4", "Panigale V2", "Streetfighter V4", "Monster", "Scrambler", "Multistrada", "Hypermotard", "Diavel", "XDiavel", "SuperSport", "DesertX"],
                    "Triumph": ["Street Triple", "Speed Triple", "Tiger 900", "Tiger 1200", "Bonneville", "Scrambler", "Rocket 3", "Trident", "Daytona", "Thruxton", "Speed Twin"],
                    "Harley-Davidson": ["Street Glide", "Road Glide", "Sportster", "Fat Boy", "Softail", "Pan America", "Low Rider", "Heritage Classic", "Breakout", "CVO", "LiveWire"],
                    "–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞": ["–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å"]
                },
                motorcycleClasses: {
                    "–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ (Sport)": {description: "–î–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —Ä–µ–∑–∫–æ–π –µ–∑–¥—ã –ø–æ –∞—Å—Ñ–∞–ª—å—Ç—É, –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –ø–æ—Å–∞–¥–∫–∞.",examples: ["Yamaha YZF-R1", "Honda CBR1000RR", "Kawasaki Ninja ZX-10R"]},
                    "–ì–æ–ª—ã–µ (Naked)": {description: "–ú–æ—Ç–æ—Ü–∏–∫–ª—ã –±–µ–∑ –æ–±—Ç–µ–∫–∞—Ç–µ–ª–µ–π, —Å –ø—Ä—è–º–æ–π –ø–æ—Å–∞–¥–∫–æ–π, –¥–ª—è –≥–æ—Ä–æ–¥–∞ –∏ –∞–∫—Ç–∏–≤–Ω–æ–π –µ–∑–¥—ã.",examples: ["Yamaha MT-07", "Kawasaki Z900", "Triumph Street Triple"]},
                    "–ö—Ä—É–∏–∑–µ—Ä—ã / –ß–æ–ø–ø–µ—Ä—ã": {description: "–ù–∏–∑–∫–∞—è –ø–æ—Å–∞–¥–∫–∞, –¥–ª—è –Ω–µ—Å–ø–µ—à–Ω–æ–π –µ–∑–¥—ã –ø–æ —Ç—Ä–∞—Å—Å–µ, –∞–∫—Ü–µ–Ω—Ç –Ω–∞ —Å—Ç–∏–ª–µ.",examples: ["Harley-Davidson Softail", "Indian Chief", "Yamaha V-Star"]},
                    "–¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ (Touring)": {description: "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –∫–æ–º—Ñ–æ—Ä—Ç –¥–ª—è –¥–∞–ª—å–Ω–∏—Ö –ø–æ–µ–∑–¥–æ–∫, —Å –±–∞–≥–∞–∂–æ–º –∏ –∑–∞—â–∏—Ç–æ–π.",examples: ["Honda Gold Wing", "BMW K 1600 GTL", "Harley-Davidson Road Glide"]},
                    "–°–ø–æ—Ä—Ç-—Ç—É—Ä–∏–∑–º (Sport-Touring)": {description: "–ì–∏–±—Ä–∏–¥ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –∏ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ, –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∏ –¥–∞–ª—å–Ω–∏—Ö –ø–æ–µ–∑–¥–æ–∫.",examples: ["Yamaha Tracer 9", "Kawasaki Ninja 1000SX", "BMW S1000XR"]},
                    "–ö–ª–∞—Å—Å–∏–∫–∞ / –†–µ—Ç—Ä–æ (Classic)": {description: "–í–Ω–µ—à–Ω–∏–π –≤–∏–¥ –≤ —Å—Ç–∏–ª–µ –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤ –ø—Ä–æ—à–ª—ã—Ö –ª–µ—Ç.",examples: ["Royal Enfield Classic 350", "Triumph Bonneville", "Moto Guzzi V7"]},
                    "–ö–∞—Ñ–µ-—Ä–µ–π—Å–µ—Ä—ã (Cafe Racer)": {description: "–†–µ—Ç—Ä–æ-—Å—Ç–∏–ª—å —Å —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏, –Ω–∏–∑–∫–∏–º —Ä—É–ª–µ–º.",examples: ["Triumph Thruxton", "Ducati Scrambler Cafe Racer", "Norton Commando"]},
                    "–ú–æ—Ç–æ–∫—Ä–æ—Å—Å (Motocross)": {description: "–î–ª—è –≥–æ–Ω–æ–∫ –ø–æ –≥—Ä—É–Ω—Ç–æ–≤—ã–º —Ç—Ä–∞—Å—Å–∞–º, –±–µ–∑ —Ñ–∞—Ä –∏ –ø–æ–≤–æ—Ä–æ—Ç–Ω–∏–∫–æ–≤.",examples: ["KTM 450 SX-F", "Honda CRF450R", "Yamaha YZ450F"]},
                    "–≠–Ω–¥—É—Ä–æ (Enduro)": {description: "–î–ª—è –µ–∑–¥—ã –ø–æ –±–µ–∑–¥–æ—Ä–æ–∂—å—é, –Ω–æ —Å —Å–≤–µ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–æ–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞ –¥–æ—Ä–æ–≥–∞—Ö.",examples: ["KTM 500 EXC", "Husqvarna FE 501", "Beta 500 RR-S"]},
                    "–¢—Ä—ç–π–ª (Trail)": {description: "–õ–µ–≥–∫–∏–µ –≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏ –¥–ª—è –Ω–µ–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ –ø–æ–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–∏—Ä–æ–¥—ã.",examples: ["Honda CRF250L", "Yamaha XT250", "Kawasaki KLX230"]},
                    "–≠–¥–≤–µ–Ω—á–µ—Ä (Adventure)": {description: "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –º–æ—Ç–æ—Ü–∏–∫–ª—ã –¥–ª—è –∞—Å—Ñ–∞–ª—å—Ç–∞ –∏ –±–µ–∑–¥–æ—Ä–æ–∂—å—è, —á–∞—Å—Ç–æ —Å –±–æ–ª—å—à–∏–º –∑–∞–ø–∞—Å–æ–º —Ö–æ–¥–∞.",examples: ["BMW R1250GS", "KTM 1290 Super Adventure", "Ducati Multistrada"]},
                    "–°—É–ø–µ—Ä–º–æ—Ç–æ (Supermoto)": {description: "–í–Ω–µ–¥–æ—Ä–æ–∂–Ω—ã–π –º–æ—Ç–æ—Ü–∏–∫–ª —Å –¥–æ—Ä–æ–∂–Ω–æ–π —Ä–µ–∑–∏–Ω–æ–π, –¥–ª—è –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π –µ–∑–¥—ã –ø–æ –≥–æ—Ä–æ–¥—É –∏ –∫–∞—Ä—Ç–æ–¥—Ä–æ–º—É.",examples: ["KTM 690 SMC R", "Husqvarna 701 Supermoto", "Aprilia SXV 550"]},
                    "–°–∫—É—Ç–µ—Ä—ã (Scooter)": {description: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á, —É–¥–æ–±—Å—Ç–≤–æ –¥–ª—è –≥–æ—Ä–æ–¥–∞.",examples: ["Yamaha XMAX", "Honda PCX", "Vespa GTS"]},
                    "–ú–æ–ø–µ–¥—ã / –õ–µ–≥–∫–∏–µ –º–æ—Ç–æ—Ü–∏–∫–ª—ã": {description: "–ú–∞–ª–µ–Ω—å–∫–∏–π –æ–±—ä–µ–º –¥–≤–∏–≥–∞—Ç–µ–ª—è, –¥–ª—è –Ω–µ—Å–ø–µ—à–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫ –ø–æ –≥–æ—Ä–æ–¥—É.",examples: ["Honda Super Cub", "Yamaha YBR125", "KTM 125 Duke"]},
                    "–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –º–æ—Ç–æ—Ü–∏–∫–ª—ã": {description: "–¢–∏—Ö–∏–µ –∏ —ç–∫–æ–ª–æ–≥–∏—á–Ω—ã–µ, —Å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π —Ç—è–≥–æ–π.",examples: ["Zero SR/F", "Energica Ego", "Harley-Davidson LiveWire"]}
                },
                gearboxTypes: {
                    "–ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∞—è": "–í–æ–¥–∏—Ç–µ–ª—å –≤—Ä—É—á–Ω—É—é —Å –ø–æ–º–æ—â—å—é —Ä—ã—á–∞–≥–∞ —Å—Ü–µ–ø–ª–µ–Ω–∏—è (–Ω–∞ —Ä—É–ª–µ) –∏ –ø–µ–¥–∞–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—á (–Ω–æ–∂–Ω–æ–π —Ä—ã—á–∞–≥). –ü–æ–¥–∞–≤–ª—è—é—â–µ–µ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤.",
                    "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è (DCT / –í–∞—Ä–∏–∞—Ç–æ—Ä)": "–í–æ–¥–∏—Ç–µ–ª—å –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ü–µ–ø–ª–µ–Ω–∏–µ–º (–Ω–µ—Ç —Ä—ã—á–∞–≥–∞ —Å—Ü–µ–ø–ª–µ–Ω–∏–µ). –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–ª–∏ —Ä—É—á–Ω–æ–µ –ø–æ –∂–µ–ª–∞–Ω–∏—é. Honda DCT, —Å–∫—É—Ç–µ—Ä—ã —Å –≤–∞—Ä–∏–∞—Ç–æ—Ä–æ–º.",
                    "–ü–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è": "–£ –º–æ—Ç–æ—Ü–∏–∫–ª–∞ –Ω–µ—Ç —Ä—ã—á–∞–≥–∞ —Å—Ü–µ–ø–ª–µ–Ω–∏—è –Ω–∞ —Ä—É–ª–µ, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –µ—Å—Ç—å –ø–µ–¥–∞–ª—å –∏–ª–∏ –∫–Ω–æ–ø–∫–∞, –∫–∞–∫ –Ω–∞ –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–π –∫–æ—Ä–æ–±–∫–µ. –°—Ç–∞—Ä—ã–µ –º–æ–ø–µ–¥—ã, —Å–∫—É—Ç–µ—Ä—ã —Å –ø–µ–¥–∞–ª—è–º–∏."
                },
                originCountries: {
                    "–î–∏–ª–µ—Ä—Å–∫–∏–π –ü–¢–° –†–§": {description: "–ú–æ—Ç–æ—Ü–∏–∫–ª –±—ã–ª –Ω–æ–≤—ã–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –≤–≤–µ–∑–µ–Ω –≤ –†–æ—Å—Å–∏—é –¥–∏–ª–µ—Ä–æ–º (–∏–º–ø–æ—Ä—Ç–µ—Ä–æ–º) –∏ –ø—Ä–æ–¥–∞–Ω –ø–µ—Ä–≤–æ–º—É –≤–ª–∞–¥–µ–ª—å—Ü—É. –ü–µ—Ä–≤—ã–º –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º –Ω–∞ –º–æ—Ç–æ—Ü–∏–∫–ª —è–≤–ª—è–µ—Ç—Å—è —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ü–¢–° (–ü–∞—Å–ø–æ—Ä—Ç –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ –°—Ä–µ–¥—Å—Ç–≤–∞), –≤—ã–¥–∞–Ω–Ω—ã–π —Ç–∞–º–æ–∂–µ–Ω–Ω—ã–º–∏ –æ—Ä–≥–∞–Ω–∞–º–∏ –†–§.",examples: ["–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —É –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –¥–∏–ª–µ—Ä–∞", "–†–æ—Å—Å–∏–π—Å–∫–∞—è –≥–∞—Ä–∞–Ω—Ç–∏—è", "–ü–µ—Ä–≤—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü –≤ –ü–¢–°"]},
                    "–Ø–ø–æ–Ω–∏—è": {description: "–ú–æ—Ç–æ—Ü–∏–∫–ª—ã –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —è–ø–æ–Ω—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞. –ß–∞—Å—Ç–æ –∏–º–µ—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ (~180 –∫–º/—á), —Å–ø–∏–¥–æ–º–µ—Ç—Ä —Ç–æ–ª—å–∫–æ –≤ –∫–º/—á, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –º–∞—Ä–∫–∏—Ä–æ–≤–∫—É (–Ω–∞–¥–ø–∏—Å–∏ –Ω–∞ —è–ø–æ–Ω—Å–∫–æ–º). –ú–æ–≥—É—Ç –±—ã—Ç—å '—ç–∫–æ–Ω–æ–º–∏—á–Ω—ã–µ' –≤–µ—Ä—Å–∏–∏ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π. –ß–∞—Å—Ç–æ –æ—Å–Ω–∞—â–µ–Ω—ã –∫–∞—Ç–∞—Ñ–æ—Ç–∞–º–∏ –Ω–∞ –≤–∏–ª–∫–∞—Ö.",examples: ["–°–ø–∏–¥–æ–º–µ—Ç—Ä —Ç–æ–ª—å–∫–æ –≤ –∫–º/—á", "–Ø–ø–æ–Ω—Å–∫–∏–µ –Ω–∞–¥–ø–∏—Å–∏ –Ω–∞ –ø–∞–Ω–µ–ª–∏", "–ö–∞—Ç–∞—Ñ–æ—Ç—ã –Ω–∞ –≤–∏–ª–∫–∞—Ö", "–≠–∫–æ–Ω–æ–º–∏—á–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π"]},
                    "–ï–≤—Ä–æ–ø–∞": {description: "–ú–æ—Ç–æ—Ü–∏–∫–ª—ã –¥–ª—è –µ–≤—Ä–æ–ø–µ–π—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞. –°–ø–∏–¥–æ–º–µ—Ç—Ä –≤ –∫–º/—á, —á–∞—Å—Ç–æ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è –≤ –º–∏–ª—è—Ö. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç—Ä–æ–≥–∏–º —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º –Ω–æ—Ä–º–∞–º –ï–≤—Ä–æ. –ö–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –±–æ–≥–∞—á–µ, —á–µ–º –±–∞–∑–æ–≤—ã–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä—ã–Ω–∫–æ–≤.",examples: ["–°–ø–∏–¥–æ–º–µ—Ç—Ä –≤ –∫–º/—á –∏ –º–∏–ª—è—Ö", "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ—Ä–º–∞–º –ï–≤—Ä–æ-4/5", "–ë–æ–≥–∞—Ç—ã–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏", "–ù–µ–º–µ—Ü–∫–∏–µ/–∏—Ç–∞–ª—å—è–Ω—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã"]},
                    "–°–®–ê / –ê—É–∫—Ü–∏–æ–Ω": {description: "–ú–æ—Ç–æ—Ü–∏–∫–ª—ã –¥–ª—è —Å–µ–≤–µ—Ä–æ–∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞. –ì–ª–∞–≤–Ω—ã–π –æ—Ç–ª–∏—á–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫ ‚Äî —Å–ø–∏–¥–æ–º–µ—Ç—Ä –≤ –º–∏–ª—è—Ö (–±–æ–ª—å—à–∏–µ —Ü–∏—Ñ—Ä—ã - mph). –§–∞—Ä—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å –¥—Ä—É–≥–æ–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã (–≥–æ—Ä—è—Ç –≤—Å–µ–≥–¥–∞). –ú–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–ª–∏—á–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –¥–≤–∏–≥–∞—Ç–µ–ª—è –∏ —Å–æ—Å—Ç–∞–≤–µ –≤—ã—Ö–ª–æ–ø–∞.",examples: ["–°–ø–∏–¥–æ–º–µ—Ç—Ä –≤ –º–∏–ª—è—Ö (mph)", "–§–∞—Ä—ã –≥–æ—Ä—è—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ", "–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–≤–∏–≥–∞—Ç–µ–ª—è", "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è EPA"]},
                    "–î—Ä—É–≥–æ–µ": {description: "–î—Ä—É–≥–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –º–æ—Ç–æ—Ü–∏–∫–ª–∞, –Ω–µ –ø–æ–¥—Ö–æ–¥—è—â–µ–µ –ø–æ–¥ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.",examples: ["–ö–∞–Ω–∞–¥—Å–∫–∏–π —Ä—ã–Ω–æ–∫", "–ê–≤—Å—Ç—Ä–∞–ª–∏–π—Å–∫–∏–π —Ä—ã–Ω–æ–∫", "–õ–æ–∫–∞–ª—å–Ω—ã–µ —Ä—ã–Ω–∫–∏ –ê–∑–∏–∏"]}
                },
                auctionTypes: {
                    "–ë–µ–∑ –∞—É–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –ª–∏—Å—Ç–∞": {description: "–ü–æ–∫—É–ø–∫–∞ –º–æ—Ç–æ—Ü–∏–∫–ª–∞ —É —á–∞—Å—Ç–Ω–æ–≥–æ –ø–µ—Ä–µ–∫—É–ø—â–∏–∫–∞ –∏–ª–∏ –Ω–µ–±–æ–ª—å—à–æ–≥–æ –¥–∏–ª–µ—Ä–∞ –≤ —Å—Ç—Ä–∞–Ω–µ-—ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–µ (—á–∞—â–µ –≤—Å–µ–≥–æ –Ø–ø–æ–Ω–∏—è) –±–µ–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏.",examples: ["–ß–∞—Å—Ç–Ω—ã–π –ø–µ—Ä–µ–∫—É–ø—â–∏–∫ –≤ –Ø–ø–æ–Ω–∏–∏", "–ù–µ–±–æ–ª—å—à–æ–π –¥–∏–ª–µ—Ä", "–ë–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞"]},
                    "–ê—É–∫—Ü–∏–æ–Ω –Ø–ø–æ–Ω–∏–∏": {description: "–ú–æ—Ç–æ—Ü–∏–∫–ª –∏–º–µ–µ—Ç –ê—É–∫—Ü–∏–æ–Ω–Ω—ã–π –ª–∏—Å—Ç ‚Äî –ø–∞—Å–ø–æ—Ä—Ç –ª–æ—Ç–∞. –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–∞–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ –∞—É–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –ª–∏—Å—Ç–∞ –∏–ª–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –ª–æ—Ç.",examples: ["USS Tokyo", "JU Nagoya", "ARAI", "CAA"]},
                    "–ê—É–∫—Ü–∏–æ–Ω –°–®–ê (–±–∏—Ç—ã–π)": {description: "–ú–æ—Ç–æ—Ü–∏–∫–ª –∏–º–µ–µ—Ç –ê—É–∫—Ü–∏–æ–Ω–Ω—ã–π –ª–∏—Å—Ç ‚Äî –ø–∞—Å–ø–æ—Ä—Ç –ª–æ—Ç–∞. –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –¥–∞–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ –∞—É–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ –ª–∏—Å—Ç–∞ –∏–ª–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –ªot.",examples: ["Copart", "IAAI", "Manheim"]},
                    "–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π / –¥–∏–ª–µ—Ä": {description: "–ü–æ–∫—É–ø–∫–∞ –º–æ—Ç–æ—Ü–∏–∫–ª–∞ —É –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –¥–∏–ª–µ—Ä–∞ –∏–ª–∏ –∫—Ä—É–ø–Ω–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–∞–ª–æ–Ω–∞ –≤ –ï–≤—Ä–æ–ø–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –ì–µ—Ä–º–∞–Ω–∏–∏, –ü–æ–ª—å—à–µ, –ß–µ—Ö–∏–∏ –∏ –®–≤–µ–π—Ü–∞—Ä–∏–∏), –∞ —Ç–∞–∫–∂–µ —á–∞—Å—Ç–Ω—ã—Ö –ø—Ä–æ–¥–∞–∂.",examples: ["–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–∏–ª–µ—Ä BMW", "–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∞–ª–æ–Ω", "–ß–∞—Å—Ç–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏ –≤ –ï–≤—Ä–æ–ø–µ"]},
                    "–ß–∞—Å—Ç–Ω–∏–∫ –ø–æ –î–ö–ü": {description: "–ü—Ä—è–º–∞—è –ø–æ–∫—É–ø–∫–∞ —É –≤–ª–∞–¥–µ–ª—å—Ü–∞ –º–æ—Ç–æ—Ü–∏–∫–ª–∞ —Å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞ –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏.",examples: ["–î–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏", "–ü—Ä—è–º–∞—è —Å–¥–µ–ª–∫–∞ —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º", "–†–æ—Å—Å–∏–π—Å–∫–∏–π –ü–¢–°"]}
                },
                legalStatuses: {
                    "–ù–∞ —É—á–µ—Ç–µ –§–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –õ–∏—Ü–∞": {description: "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ —á–∞—Å—Ç–Ω–æ–µ –ª–∏—Ü–æ (–≤–ª–∞–¥–µ–ª—å—Ü–∞). –í—Å–µ –ø—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –ø–æ –≤–ª–∞–¥–µ–Ω–∏—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –¢–° –ª–µ–∂–∞—Ç –Ω–∞ —ç—Ç–æ–º —á–µ–ª–æ–≤–µ–∫–µ.",examples: ["–ß–∞—Å—Ç–Ω—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü", "–§–∏–∑–∏—á–µ—Å–∫–æ–µ –ª–∏—Ü–æ"]},
                    "–ù–∞ —É—á–µ—Ç–µ –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –õ–∏—Ü–∞": {description: "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –∫–æ–º–ø–∞–Ω–∏—é, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∏–ª–∏ –ò–ü. –ß–∞—Å—Ç–æ —ç—Ç–æ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –∞–≤—Ç–æ–ø–∞—Ä–∫.",examples: ["–ö–æ–º–ø–∞–Ω–∏—è", "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è", "–ò–ü", "–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –∞–≤—Ç–æ–ø–∞—Ä–∫"]},
                    "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞": {description: "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å —ç—Ç–∏–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–º —Å—Ä–µ–¥—Å—Ç–≤–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –æ—Ä–≥–∞–Ω–∞–º–∏ –ª–∏–±–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–º.",examples: ["–í—Ä–µ–º–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞", "–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏"]},
                    "–ü—Ä–æ–¥–∞–∂–∞ –¢–° –Ω–µ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –Ω–∞ —É—á—ë—Ç": {description: "–≠—Ç–æ –Ω–æ–≤–æ–µ –∏–ª–∏ –±—ã–≤—à–µ–µ –≤ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–æ—Å—å –≤ –ì–ò–ë–î–î. –ü—Ä–æ–¥–∞–≤–µ—Ü (—á–∞—Å—Ç–æ –¥–∏–ª–µ—Ä –∏–ª–∏ —á–∞—Å—Ç–Ω–æ–µ –ª–∏—Ü–æ) –ø—Ä–æ–¥–∞–µ—Ç –µ–≥–æ –ø–æ –¥–æ–≥–æ–≤–æ—Ä—É –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏ (–î–ö–ü), –∏ –∏–º–µ–Ω–Ω–æ –≤—ã, –∫–∞–∫ –ø–µ—Ä–≤—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü, –±—É–¥–µ—Ç–µ —Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –Ω–∞ —É—á–µ—Ç.",examples: ["–ù–æ–≤—ã–π –º–æ—Ç–æ—Ü–∏–∫–ª", "–ü–µ—Ä–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è", "–î–∏–ª–µ—Ä—Å–∫–∞—è –ø—Ä–æ–¥–∞–∂–∞"]},
                    "–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è": {description: "–°—Ç–∞—Ç—É—Å –º–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –∫ –¢–°, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å—á–∏—Ç–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º–∏ –º–æ—Ç–æ—Ü–∏–∫–ª–æ–º –≤ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–º —Å–º—ã—Å–ª–µ, –Ω–æ –ø–æ–¥–ª–µ–∂–∞—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–æ—â–Ω—ã–µ —Å–Ω–µ–≥–æ—Ö–æ–¥—ã, –∫–≤–∞–¥—Ä–æ—Ü–∏–∫–ª—ã, –≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏, –º–æ—Ç–æ—Ü–∏–∫–ª). –û–Ω–∏ —Å—Ç–∞–≤—è—Ç—Å—è –Ω–∞ —É—á–µ—Ç –≤ –æ—Ä–≥–∞–Ω–∞—Ö –ì–æ—Å—Ç–µ—Ö–Ω–∞–¥–∑–æ—Ä–∞ (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö), –∞ –Ω–µ –≤ –ì–ò–ë–î–î.",examples: ["–°–Ω–µ–≥–æ—Ö–æ–¥—ã", "–ö–≤–∞–¥—Ä–æ—Ü–∏–∫–ª—ã", "–í–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏", "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –ì–æ—Å—Ç–µ—Ö–Ω–∞–¥–∑–æ—Ä–µ"]},
                    "–î—Ä—É–≥–æ–µ": {description: "–î—Ä—É–≥–æ–π —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å –º–æ—Ç–æ—Ü–∏–∫–ª–∞, –Ω–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø–æ–¥ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.",examples: ["–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏", "–ò–Ω—ã–µ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Å—Ç–∞—Ç—É—Å—ã"]}
                }
            },
            state: {
                reportsDatabase: [],
                inspectionsDatabase: [],
                deferredPrompt: null,
                notificationTimeouts: [],
                editingReportId: null,
                activeToasts: new Set(),
                audioContext: null,
                soundEnabled: true,
                isIOS: /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream,
                currentPhotos: {}
            },
            init() {
                try {
                    this.state.reportsDatabase = JSON.parse(localStorage.getItem('motodiag_reports') || '[]');
                    this.state.inspectionsDatabase = JSON.parse(localStorage.getItem('motodiag_inspections') || '[]');
                    const savedPhotos = localStorage.getItem('motodiag_current_photos');
                    if (savedPhotos) {
                        this.state.currentPhotos = JSON.parse(savedPhotos);
                    }
                } catch (e) {
                    console.warn('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage:', e);
                    this.state.reportsDatabase = [];
                    this.state.inspectionsDatabase = [];
                    this.state.currentPhotos = {};
                }
                Object.entries(this.modules).forEach(([name, module]) => {
                    try {
                        if (module.init) module.init();
                    } catch (e) {
                        console.error(`–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥—É–ª—è ${name}:`, e);
                        this.showError('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª—è: ' + name);
                    }
                });
                this.initBasicComponents();
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('data:text/javascript,' + encodeURIComponent(`
                        const CACHE_NAME = 'motodiag-v2.6.0';
                        const urlsToCache = ['/', '/index.html'];
                        self.addEventListener('install', event => {
                            event.waitUntil(caches.open(CACHE_NAME).then(cache => cache.addAll(urlsToCache)));
                        });
                        self.addEventListener('fetch', event => {
                            event.respondWith(caches.match(event.request).then(response => response || fetch(event.request)));
                        });
                    `)).catch(() => console.log('SW registration failed'));
                }
                const versionDateEl = document.getElementById('appVersionDate');
                if (versionDateEl) versionDateEl.textContent = new Date().getFullYear();
                this.checkInspectionReminders();
                console.log('–ú–æ—Ç–æ–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PRO –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
            },
            initBasicComponents() {
                this.initNavigation();
                this.initTheme();
                this.initForm();
                this.initScrollToTop();
                this.initModal();
                this.initTooltips();
                this.initEnhancedTooltips();
                this.initInspectionsButtons();
                this.initSoundSystem();
                this.initClearStorage();
                this.initAllDataButtons();
                this.initPhotoUploadSystem();
            },
            initPhotoUploadSystem() {
                this.loadPhotoPreviews();
                const photoInputs = document.querySelectorAll('.photo-upload-input');
                photoInputs.forEach(input => {
                    input.addEventListener('change', (e) => {
                        const section = e.target.getAttribute('data-section');
                        this.handlePhotoUploadImproved(section, e.target.files);
                        e.target.value = '';
                    });
                });
                console.log('–°–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
            },
            handlePhotoUploadImproved(section, files) {
                if (!files || files.length === 0) return;
                if (!this.state.currentPhotos[section]) {
                    this.state.currentPhotos[section] = [];
                }
                const maxPhotos = (section === 'exterior') ? 1 : 10;
                const currentCount = this.state.currentPhotos[section].length;
                const remainingSlots = maxPhotos - currentCount;
                if (remainingSlots <= 0) {
                    this.showToast(`–î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –≤ ${maxPhotos} —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –¥–ª—è —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞`, 'warning');
                    return;
                }
                const filesToProcess = Array.from(files).slice(0, remainingSlots);
                let processedCount = 0;
                let totalSize = 0;
                Object.values(this.state.currentPhotos).forEach(photos => {
                    photos.forEach(photo => {
                        totalSize += photo.data.length;
                    });
                });
                const maxSize = 45 * 1024 * 1024;
                filesToProcess.forEach(file => {
                    if (file.type.startsWith('image/')) {
                        this.compressImage(file).then(compressedFile => {
                            const reader = new FileReader();
                            reader.onload = (e) => {
                                const base64Data = e.target.result;
                                if (totalSize + base64Data.length > maxSize) {
                                    this.showToast('–í–Ω–∏–º–∞–Ω–∏–µ: –†–∞–∑–º–µ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–πÊé•Ëøë –ª–∏–º–∏—Ç–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ç–æ –Ω–µ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã.', 'warning');
                                    return;
                                }
                                totalSize += base64Data.length;
                                this.state.currentPhotos[section].push({
                                    id: Date.now() + Math.random(),
                                    data: base64Data,
                                    name: file.name,
                                    timestamp: new Date().toISOString(),
                                    compressed: true
                                });
                                processedCount++;
                                if (processedCount === filesToProcess.length) {
                                    this.saveCurrentPhotosImproved();
                                    this.updatePhotoPreview(section);
                                    this.updatePhotoCounter(section);
                                    this.playSound('success');
                                    this.showToast(`–î–æ–±–∞–≤–ª–µ–Ω–æ ${processedCount} —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –≤ —Ä–∞–∑–¥–µ–ª "${this.getSectionName(section)}"`, 'success');
                                    if (totalSize > maxSize * 0.8) {
                                        this.showToast('–í–Ω–∏–º–∞–Ω–∏–µ: –†–∞–∑–º–µ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–πÊé•Ëøë –ª–∏–º–∏—Ç–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞', 'warning');
                                    }
                                }
                            };
                            reader.readAsDataURL(compressedFile);
                        }).catch(error => {
                            console.error('–û—à–∏–±–∫–∞ —Å–∂–∞—Ç–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:', error);
                            const reader = new FileReader();
                            reader.onload = (e) => {
                                const base64Data = e.target.result;
                                if (totalSize + base64Data.length > maxSize) {
                                    this.showToast('–í–Ω–∏–º–∞–Ω–∏–µ: –†–∞–∑–º–µ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–πÊé•Ëøë –ª–∏–º–∏—Ç–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ç–æ –Ω–µ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã.', 'warning');
                                    return;
                                }
                                totalSize += base64Data.length;
                                this.state.currentPhotos[section].push({
                                    id: Date.now() + Math.random(),
                                    data: base64Data,
                                    name: file.name,
                                    timestamp: new Date().toISOString(),
                                    compressed: false
                                });
                                processedCount++;
                                if (processedCount === filesToProcess.length) {
                                    this.saveCurrentPhotosImproved();
                                    this.updatePhotoPreview(section);
                                    this.updatePhotoCounter(section);
                                    this.playSound('success');
                                    this.showToast(`–î–æ–±–∞–≤–ª–µ–Ω–æ ${processedCount} —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –≤ —Ä–∞–∑–¥–µ–ª "${this.getSectionName(section)}"`, 'success');
                                    if (totalSize > maxSize * 0.8) {
                                        this.showToast('–í–Ω–∏–º–∞–Ω–∏–µ: –†–∞–∑–º–µ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–πÊé•Ëøë –ª–∏–º–∏—Ç–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞', 'warning');
                                    }
                                }
                            };
                            reader.readAsDataURL(file);
                        });
                    }
                });
            },
            compressImage(file, maxWidth = 1200, quality = 0.7) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const img = new Image();
                        img.onload = () => {
                            const canvas = document.createElement('canvas');
                            let width = img.width;
                            let height = img.height;
                            if (width > maxWidth) {
                                height = Math.round((height * maxWidth) / width);
                                width = maxWidth;
                            }
                            canvas.width = width;
                            canvas.height = height;
                            const ctx = canvas.getContext('2d');
                            ctx.drawImage(img, 0, 0, width, height);
                            canvas.toBlob((blob) => {
                                resolve(blob);
                            }, 'image/jpeg', quality);
                        };
                        img.onerror = reject;
                        img.src = e.target.result;
                    };
                    reader.onerror = reject;
                    reader.readAsDataURL(file);
                });
            },
            saveCurrentPhotosImproved() {
                try {
                    Object.keys(this.state.currentPhotos).forEach(section => {
                        if (!this.state.currentPhotos[section] || this.state.currentPhotos[section].length === 0) {
                            delete this.state.currentPhotos[section];
                        }
                    });
                    const dataStr = JSON.stringify(this.state.currentPhotos);
                    const sizeInMB = (dataStr.length / (1024 * 1024)).toFixed(2);
                    if (dataStr.length > 45 * 1024 * 1024) {
                        this.showToast('–í–Ω–∏–º–∞–Ω–∏–µ: –†–∞–∑–º–µ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–πÊé•Ëøë –ª–∏–º–∏—Ç–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–¥–∞–ª–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ç–æ.', 'warning');
                        return false;
                    }
                    localStorage.setItem('motodiag_current_photos', dataStr);
                    console.log(`–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã. –†–∞–∑–º–µ—Ä: ${sizeInMB} MB`);
                    return true;
                } catch (e) {
                    console.warn('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π:', e);
                    if (e.name === 'QuotaExceededError') {
                        this.showToast('–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –£–¥–∞–ª–∏—Ç–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏.', 'warning');
                    }
                    return false;
                }
            },
            getSectionName(section) {
                const sectionNames = {
                    'exterior': '–¢–∏—Ç—É–ª—å–Ω—ã–π –ª–∏—Å—Ç',
                    'geometry': '–í–Ω–µ—à–Ω–∏–π –≤–∏–¥',
                    'engine': '–û—Å–º–æ—Ç—Ä –û–±—â–∏–π',
                    'consumables': '–°–æ—Å—Ç–æ—è–Ω–∏–µ –õ–ö–ü',
                    'electrical': '–°–æ—Å—Ç–æ—è–Ω–∏–µ –°–∏–¥–µ–Ω—å—è',
                    'suspension': '–û—Å–º–æ—Ç—Ä –û–ø—Ç–∏–∫–∏',
                    'fuel_system': '–†–∞–º–∞, –®–≤—ã, –í—Ç–æ—Ä–∏—á–Ω–∞—è –æ–∫—Ä–∞—Å–∫–∞',
                    'brake_system': '–ö—Ä–∏–º–∏–Ω–∞–ª, –í–∏–Ω –Ω–æ–º–µ—Ä–∞, –ù–æ–º–µ—Ä–∞ –î–≤–∏–≥–∞—Ç–µ–ª—è',
                    'cooling_system': '–ì–µ–æ–º–µ—Ç—Ä–∏—è, –ü–æ–¥—Ä–∞–º–Ω–∏–∫–∞, —Ä—É–ª—è, –≤–∏–ª–∫–∏',
                    'controls': '–û—Ä–≥–∞–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è',
                    'additional_equipment': '–ú–æ—Ç–æ—Ä–Ω—ã–π –£–∑–µ–ª',
                    'bodywork': '–¢–æ–ø–ª–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞',
                    'electrical_new': '–°–∏—Å—Ç–µ–º–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è',
                    'brake_system_new': '–≠–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ',
                    'drive': '–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞',
                    'tires': '–ü—Ä–∏–≤–æ–¥',
                    'suspension_front_rear': '–†–µ–∑–∏–Ω–∞',
                    'computer_diagnostics': '–ü–æ–¥–≤–µ—Å–∫–∞ –ø–µ—Ä–µ–¥, –∑–∞–¥',
                    'additional_equipment_new': '–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞',
                    'final': '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ'
                };
                return sectionNames[section] || section;
            },
            updatePhotoPreview(section) {
                const previewContainer = document.querySelector(`.photo-preview-container[data-section="${section}"]`);
                if (!previewContainer) {
                    console.warn(`–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–µ–∫—Ü–∏–∏ ${section} –Ω–µ –Ω–∞–π–¥–µ–Ω`);
                    return;
                }
                const photos = this.state.currentPhotos[section] || [];
                previewContainer.innerHTML = photos.map(photo => `
                    <div class="photo-preview-item">
                        <img src="${photo.data}" alt="${photo.name}" class="photo-preview-img">
                        <button class="photo-preview-remove" onclick="app.removePhoto('${section}', ${photo.id})">√ó</button>
                    </div>
                `).join('');
            },
            updatePhotoCounter(section) {
                const counter = document.querySelector(`.photo-counter[data-section="${section}"]`);
                if (counter) {
                    const photos = this.state.currentPhotos[section] || [];
                    const maxPhotos = (section === 'exterior') ? 1 : 10;
                    counter.textContent = `–ó–∞–≥—Ä—É–∂–µ–Ω–æ: ${photos.length}/${maxPhotos}`;
                    if (photos.length >= maxPhotos) {
                        counter.style.color = 'var(--warning-color)';
                        counter.style.fontWeight = '600';
                    } else {
                        counter.style.color = 'var(--text-light)';
                        counter.style.fontWeight = 'normal';
                    }
                }
            },
            removePhoto(section, photoId) {
                if (!this.state.currentPhotos[section]) return;
                const idToRemove = typeof photoId === 'string' ? parseFloat(photoId) : photoId;
                this.state.currentPhotos[section] = this.state.currentPhotos[section].filter(photo => {
                    const photoIdNum = typeof photo.id === 'string' ? parseFloat(photo.id) : photo.id;
                    return photoIdNum !== idToRemove;
                });
                this.saveCurrentPhotosImproved();
                this.updatePhotoPreview(section);
                this.updatePhotoCounter(section);
                this.playSound('success');
                this.showToast('–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è —É–¥–∞–ª–µ–Ω–∞', 'success');
            },
            loadPhotoPreviews() {
                Object.keys(this.state.currentPhotos).forEach(section => {
                    this.updatePhotoPreview(section);
                    this.updatePhotoCounter(section);
                });
            },
            clearAllPhotos() {
                this.state.currentPhotos = {};
                this.saveCurrentPhotosImproved();
                const previewContainers = document.querySelectorAll('.photo-preview-container');
                previewContainers.forEach(container => {
                    container.innerHTML = '';
                });
                const counters = document.querySelectorAll('.photo-counter');
                counters.forEach(counter => {
                    const section = counter.getAttribute('data-section');
                    const maxPhotos = (section === 'exterior') ? 1 : 10;
                    counter.textContent = `–ó–∞–≥—Ä—É–∂–µ–Ω–æ: 0/${maxPhotos}`;
                    counter.style.color = 'var(--text-light)';
                    counter.style.fontWeight = 'normal';
                });
            },
            initSoundSystem() {
                try {
                    this.state.audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const soundEnabled = localStorage.getItem('motodiag_sound_enabled');
                    this.state.soundEnabled = soundEnabled === null ? true : soundEnabled === 'true';
                    const soundCheckbox = document.getElementById('soundNotifications');
                    if (soundCheckbox) {
                        soundCheckbox.checked = this.state.soundEnabled;
                    }
                    console.log('–ó–≤—É–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
                } catch (e) {
                    console.warn('–ê—É–¥–∏–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è:', e);
                    this.state.soundEnabled = false;
                }
            },
            playSound(type) {
                if (!this.state.soundEnabled || !this.state.audioContext) return;
                try {
                    if (this.state.audioContext.state === 'suspended') {
                        this.state.audioContext.resume();
                    }
                    const oscillator = this.state.audioContext.createOscillator();
                    const gainNode = this.state.audioContext.createGain();
                    oscillator.connect(gainNode);
                    gainNode.connect(this.state.audioContext.destination);
                    let frequency = 440;
                    let duration = 0.2;
                    let typeWave = 'sine';
                    switch(type) {
                        case 'success':
                            frequency = 880;
                            duration = 0.3;
                            typeWave = 'sine';
                            break;
                        case 'error':
                            frequency = 220;
                            duration = 0.5;
                            typeWave = 'sawtooth';
                            break;
                        case 'notification':
                            frequency = 660;
                            duration = 0.1;
                            typeWave = 'square';
                            break;
                        case 'save':
                            frequency = 550;
                            duration = 0.2;
                            typeWave = 'sine';
                            break;
                        case 'click':
                            frequency = 500;
                            duration = 0.05;
                            typeWave = 'square';
                            break;
                        case 'completion':
                            frequency = 523.25;
                            duration = 0.8;
                            typeWave = 'sine';
                            break;
                        case 'warning':
                            frequency = 329.63;
                            duration = 0.7;
                            typeWave = 'sawtooth';
                            break;
                    }
                    oscillator.frequency.value = frequency;
                    oscillator.type = typeWave;
                    gainNode.gain.setValueAtTime(0.3, this.state.audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.001, this.state.audioContext.currentTime + duration);
                    oscillator.start(this.state.audioContext.currentTime);
                    oscillator.stop(this.state.audioContext.currentTime + duration);
                } catch (e) {
                    console.warn('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞:', e);
                }
            },
            initNavigation() {
                const navTabs = document.querySelectorAll('.nav-tab');
                const tabContents = document.querySelectorAll('.tab-content');
                navTabs.forEach(tab => {
                    tab.addEventListener('click', function() {
                        const tabId = this.getAttribute('data-tab');
                        if (!tabId) return;
                        app.playSound('click');
                        navTabs.forEach(t => t.classList.remove('active'));
                        this.classList.add('active');
                        tabContents.forEach(c => {
                            c.classList.remove('active');
                            if (c.id === `${tabId}-tab`) {
                                c.classList.add('active');
                            }
                        });
                        if (tabId === 'database') {
                            app.loadReportsList();
                        }
                        if (tabId === 'inspections') {
                            app.loadInspectionsList();
                        }
                        if (tabId === 'stats') {
                            app.updateStatistics();
                        }
                    });
                });
            },
            initTheme() {
                const savedTheme = localStorage.getItem('motodiag_theme') || 'light';
                document.body.setAttribute('data-theme', savedTheme);
                const darkThemeCheckbox = document.getElementById('darkTheme');
                if (darkThemeCheckbox) {
                    darkThemeCheckbox.checked = savedTheme === 'dark';
                    darkThemeCheckbox.addEventListener('change', this.toggleTheme);
                }
                const soundCheckbox = document.getElementById('soundNotifications');
                if (soundCheckbox) {
                    soundCheckbox.addEventListener('change', (e) => {
                        this.state.soundEnabled = e.target.checked;
                        localStorage.setItem('motodiag_sound_enabled', this.state.soundEnabled);
                        if (this.state.soundEnabled) {
                            this.playSound('notification');
                        }
                    });
                }
            },
            toggleTheme() {
                const isDark = document.getElementById('darkTheme').checked;
                const theme = isDark ? 'dark' : 'light';
                document.body.setAttribute('data-theme', theme);
                localStorage.setItem('motodiag_theme', theme);
                app.playSound('click');
            },
            initClearStorage() {
                const clearStorageBtn = document.getElementById('clearStorageBtn');
                if (clearStorageBtn) {
                    clearStorageBtn.addEventListener('click', () => {
                        if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –í–°–ï –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
                            localStorage.clear();
                            this.state.reportsDatabase = [];
                            this.state.inspectionsDatabase = [];
                            this.state.currentPhotos = {};
                            this.loadReportsList();
                            this.loadInspectionsList();
                            this.updateStatistics();
                            this.showToast('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã', 'success');
                            this.playSound('success');
                        }
                    });
                }
            },
            initAllDataButtons() {
                const exportAllDataBtn = document.getElementById('exportAllDataBtn');
                const importAllDataBtn = document.getElementById('importAllDataBtn');
                if (exportAllDataBtn) {
                    exportAllDataBtn.addEventListener('click', () => {
                        this.playSound('click');
                        this.exportAllData();
                    });
                }
                if (importAllDataBtn) {
                    importAllDataBtn.addEventListener('click', () => {
                        this.playSound('click');
                        this.importAllData();
                    });
                }
            },
            convertKmToMiles(km) {
                return (km * 0.621371).toFixed(1);
            },
            convertMilesToKm(miles) {
                return (miles / 0.621371).toFixed(1);
            },
            initMileageFields() {
                const mileageKm = document.getElementById('mileage_km');
                const mileageMiles = document.getElementById('mileage_miles');
                if (!mileageKm || !mileageMiles) return;
                mileageKm.addEventListener('input', () => {
                    const kmValue = parseFloat(mileageKm.value);
                    if (!isNaN(kmValue) && kmValue >= 0) {
                        const milesValue = this.convertKmToMiles(kmValue);
                        mileageMiles.value = milesValue;
                    } else {
                        mileageMiles.value = '';
                    }
                    this.updateProgress();
                });
                mileageMiles.addEventListener('input', () => {
                    const milesValue = parseFloat(mileageMiles.value);
                    if (!isNaN(milesValue) && milesValue >= 0) {
                        const kmValue = this.convertMilesToKm(milesValue);
                        mileageKm.value = kmValue;
                    } else {
                        mileageKm.value = '';
                    }
                    this.updateProgress();
                });
            },
            initForm() {
                const brandSelect = document.getElementById('brand');
                const modelSelect = document.getElementById('model');
                if (brandSelect && modelSelect) {
                    brandSelect.addEventListener('change', function() {
                        const brand = this.value;
                        const isCustomBrand = brand === '–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞';
                        const brandCustom = document.getElementById('brand_custom');
                        if (brandCustom) {
                            brandCustom.classList.toggle('hidden', !isCustomBrand);
                            if (!isCustomBrand) brandCustom.value = '';
                        }
                        modelSelect.innerHTML = '<option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å --</option>';
                        if (brand && app.config.modelsDatabase[brand]) {
                            app.config.modelsDatabase[brand].forEach(model => {
                                const option = document.createElement('option');
                                option.value = model;
                                option.textContent = model;
                                modelSelect.appendChild(option);
                            });
                        }
                        const customOption = document.createElement('option');
                        customOption.value = '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å';
                        customOption.textContent = '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å';
                        modelSelect.appendChild(customOption);
                        app.updateProgress();
                    });
                    modelSelect.addEventListener('change', function() {
                        const isCustomModel = this.value === '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å';
                        const modelCustom = document.getElementById('model_custom');
                        if (modelCustom) {
                            modelCustom.classList.toggle('hidden', !isCustomModel);
                            if (!isCustomModel) modelCustom.value = '';
                        }
                        app.updateProgress();
                    });
                }
                this.initMileageFields();
                const decisionSelect = document.getElementById('decision');
                const inspectionFields = document.getElementById('inspectionFields');
                if (decisionSelect && inspectionFields) {
                    decisionSelect.addEventListener('change', function() {
                        const showInspectionFields = this.value === 'üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É';
                        inspectionFields.classList.toggle('hidden', !showInspectionFields);
                        if (showInspectionFields) {
                            const tomorrow = new Date();
                            tomorrow.setDate(tomorrow.getDate() + 1);
                            const dateInput = document.getElementById('inspection_date');
                            if (dateInput) {
                                dateInput.value = tomorrow.toISOString().split('T')[0];
                            }
                            const timeInput = document.getElementById('inspection_time');
                            if (timeInput) {
                                timeInput.value = '10:00';
                            }
                        }
                    });
                }
                const generateBtn = document.getElementById('generateBtn');
                const saveToDbBtn = document.getElementById('saveToDbBtn');
                const clearFormBtn = document.getElementById('clearFormBtn');
                const copyBtn = document.getElementById('copyBtn');
                const generateClientReportBtn = document.getElementById('generateClientReportBtn');
                const generatePDFReportBtn = document.getElementById('generatePDFReportBtn');
                if (generateBtn) generateBtn.addEventListener('click', () => this.generateReport());
                if (saveToDbBtn) saveToDbBtn.addEventListener('click', () => this.saveReportToDatabase());
                if (clearFormBtn) clearFormBtn.addEventListener('click', () => this.clearForm());
                if (copyBtn) copyBtn.addEventListener('click', () => this.copyToClipboard());
                if (generateClientReportBtn) generateClientReportBtn.addEventListener('click', () => this.generateClientReport());
                if (generatePDFReportBtn) generatePDFReportBtn.addEventListener('click', () => this.generatePDFReportMultiPage());
                this.setupAutoSave();
                this.loadFormData();
                this.updateProgress();
            },
            initScrollToTop() {
                const btn = document.getElementById('scrollToTopBtn');
                if (!btn) return;
                window.addEventListener('scroll', () => {
                    btn.classList.toggle('visible', window.pageYOffset > 300);
                });
                btn.addEventListener('click', () => {
                    this.playSound('click');
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            },
            initModal() {
                const modal = document.getElementById('reportModal');
                const modalClose = document.getElementById('modalClose');
                const closeModalBtn = document.getElementById('closeModal');
                const copyModalReportBtn = document.getElementById('copyModalReport');
                if (modalClose) {
                    modalClose.addEventListener('click', () => {
                        this.playSound('click');
                        modal.classList.add('hidden');
                    });
                }
                if (closeModalBtn) {
                    closeModalBtn.addEventListener('click', () => {
                        this.playSound('click');
                        modal.classList.add('hidden');
                    });
                }
                if (copyModalReportBtn) {
                    copyModalReportBtn.addEventListener('click', () => {
                        this.copyModalReport();
                    });
                }
                if (modal) {
                    modal.addEventListener('click', (e) => {
                        if (e.target === modal) {
                            this.playSound('click');
                            modal.classList.add('hidden');
                        }
                    });
                }
            },
            initTooltips() {
                let activeTooltip = null;
                function showTooltip(element, text) {
                    if (activeTooltip) {
                        activeTooltip.remove();
                        activeTooltip = null;
                    }
                    const tooltip = document.createElement('div');
                    tooltip.className = 'tooltip';
                    tooltip.textContent = text;
                    const rect = element.getBoundingClientRect();
                    tooltip.style.position = 'fixed';
                    tooltip.style.top = (rect.bottom + window.scrollY + 5) + 'px';
                    tooltip.style.left = (rect.left + window.scrollX) + 'px';
                    tooltip.style.zIndex = '10000';
                    document.body.appendChild(tooltip);
                    activeTooltip = tooltip;
                    setTimeout(() => {
                        if (activeTooltip === tooltip) {
                            tooltip.remove();
                            activeTooltip = null;
                        }
                    }, 5000);
                }
                function hideTooltip() {
                    if (activeTooltip) {
                        activeTooltip.remove();
                        activeTooltip = null;
                    }
                }
                const elementsWithTooltips = document.querySelectorAll('[data-tooltip]');
                elementsWithTooltips.forEach(element => {
                    element.addEventListener('mouseenter', function() {
                        showTooltip(this, this.getAttribute('data-tooltip'));
                    });
                    element.addEventListener('mouseleave', hideTooltip);
                    element.addEventListener('focus', function() {
                        showTooltip(this, this.getAttribute('data-tooltip'));
                    });
                    element.addEventListener('blur', hideTooltip);
                });
            },
            initEnhancedTooltips() {
                const motorcycleClassSelect = document.getElementById('motorcycle_class');
                if (motorcycleClassSelect) {
                    motorcycleClassSelect.addEventListener('change', () => {
                        this.showEnhancedTooltip('class', motorcycleClassSelect.value);
                    });
                }
                const gearboxTypeSelect = document.getElementById('gearbox_type');
                if (gearboxTypeSelect) {
                    gearboxTypeSelect.addEventListener('change', () => {
                        this.showEnhancedTooltip('gearbox', gearboxTypeSelect.value);
                    });
                }
                const originCountrySelect = document.getElementById('origin_country');
                if (originCountrySelect) {
                    originCountrySelect.addEventListener('change', () => {
                        this.showEnhancedTooltip('origin', originCountrySelect.value);
                    });
                }
                const auctionTypeSelect = document.getElementById('auction_type');
                if (auctionTypeSelect) {
                    auctionTypeSelect.addEventListener('change', () => {
                        this.showEnhancedTooltip('auction', auctionTypeSelect.value);
                        this.toggleAuctionLotField(auctionTypeSelect.value);
                    });
                }
                const legalStatusSelect = document.getElementById('legal_status');
                if (legalStatusSelect) {
                    legalStatusSelect.addEventListener('change', () => {
                        this.showEnhancedTooltip('legal_status', legalStatusSelect.value);
                    });
                }
            },
            initInspectionsButtons() {
                const clearCompletedInspectionsBtn = document.getElementById('clearCompletedInspectionsBtn');
                if (clearCompletedInspectionsBtn) {
                    clearCompletedInspectionsBtn.addEventListener('click', () => {
                        this.playSound('click');
                        this.clearCompletedInspections();
                    });
                }
            },
            showEnhancedTooltip(type, value) {
                if (!value) return;
                let title = '';
                let description = '';
                let examples = '';
                if (type === 'class' && this.config.motorcycleClasses[value]) {
                    const classInfo = this.config.motorcycleClasses[value];
                    title = value;
                    description = classInfo.description;
                    examples = classInfo.examples.join(', ');
                } else if (type === 'gearbox' && this.config.gearboxTypes[value]) {
                    title = value;
                    description = this.config.gearboxTypes[value];
                } else if (type === 'origin' && this.config.originCountries[value]) {
                    const originInfo = this.config.originCountries[value];
                    title = value;
                    description = originInfo.description;
                    examples = originInfo.examples.join(', ');
                } else if (type === 'auction' && this.config.auctionTypes[value]) {
                    const auctionInfo = this.config.auctionTypes[value];
                    title = value;
                    description = auctionInfo.description;
                    examples = auctionInfo.examples.join(', ');
                } else if (type === 'legal_status' && this.config.legalStatuses[value]) {
                    const legalStatusInfo = this.config.legalStatuses[value];
                    title = value;
                    description = legalStatusInfo.description;
                    examples = legalStatusInfo.examples.join(', ');
                } else {
                    return;
                }
                this.showEnhancedToast(title, description, examples);
            },
            showEnhancedToast(title, description, examples = '') {
                const toastId = 'toast-' + Date.now();
                const container = document.getElementById('toastContainer');
                if (!container) return;
                if (this.state.activeToasts.size >= 3) {
                    const oldestToastId = Array.from(this.state.activeToasts)[0];
                    const oldestToast = document.getElementById(oldestToastId);
                    if (oldestToast) {
                        this.removeToast(oldestToast);
                    }
                }
                const toast = document.createElement('div');
                toast.className = 'toast toast-info toast-enhanced';
                toast.id = toastId;
                toast.setAttribute('role', 'status');
                let toastContent = `
                    <div class="toast-title">
                        ${this.escapeHtml(title)}
                        <button class="toast-close" onclick="app.removeToast(document.getElementById('${toastId}'))" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
                    </div>
                    <div class="toast-description">${this.escapeHtml(description)}</div>
                `;
                if (examples) {
                    toastContent += `
                        <div class="toast-examples">
                            <strong>–ü—Ä–∏–º–µ—Ä—ã:</strong> ${this.escapeHtml(examples)}
                        </div>
                    `;
                }
                toast.innerHTML = toastContent;
                container.appendChild(toast);
                this.state.activeToasts.add(toastId);
                this.playSound('notification');
                requestAnimationFrame(() => toast.classList.add('show'));
                const textLength = title.length + description.length + examples.length;
                const duration = textLength > 200 ? 8000 : 7000;
                setTimeout(() => {
                    this.removeToast(toast);
                }, duration);
            },
            removeToast(toastElement) {
                if (!toastElement) return;
                toastElement.classList.remove('show');
                setTimeout(() => {
                    if (toastElement.parentNode) {
                        toastElement.remove();
                    }
                    this.state.activeToasts.delete(toastElement.id);
                }, 300);
            },
            toggleAuctionLotField(auctionType) {
                const auctionLotGroup = document.getElementById('auctionLotNumberGroup');
                if (!auctionLotGroup) return;
                const showLotField = auctionType === '–ê—É–∫—Ü–∏–æ–Ω –Ø–ø–æ–Ω–∏–∏' || auctionType === '–ê—É–∫—Ü–∏–æ–Ω –°–®–ê (–±–∏—Ç—ã–π)';
                auctionLotGroup.classList.toggle('hidden', !showLotField);
            },
            updateProgress() {
                const brandEl = document.getElementById('brand');
                const modelEl = document.getElementById('model');
                const yearEl = document.getElementById('year');
                const mileageKm = document.getElementById('mileage_km');
                const mileageMiles = document.getElementById('mileage_miles');
                if (!brandEl || !modelEl || !yearEl) return;
                let brandFilled = !!brandEl.value;
                let modelFilled = !!modelEl.value;
                let mileageFilled = !!(mileageKm && mileageKm.value) || !!(mileageMiles && mileageMiles.value);
                if (brandEl.value === '–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞') {
                    const brandCustom = document.getElementById('brand_custom');
                    brandFilled = brandCustom && brandCustom.value.trim() !== '';
                }
                if (modelEl.value === '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å') {
                    const modelCustom = document.getElementById('model_custom');
                    modelFilled = modelCustom && modelCustom.value.trim() !== '';
                }
                const filled = (brandFilled ? 1 : 0) + (modelFilled ? 1 : 0) + (yearEl.value ? 1 : 0) + (mileageFilled ? 1 : 0);
                const progress = (filled / 4) * 100;
                const progressFill = document.getElementById('progressFill');
                const progressText = document.getElementById('progressText');
                if (progressFill) progressFill.style.width = `${progress}%`;
                if (progressText) {
                    if (progress === 100) {
                        progressText.textContent = '‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã!';
                        progressText.style.color = 'var(--success-color)';
                    } else {
                        progressText.textContent = `–ó–∞–ø–æ–ª–Ω–µ–Ω–æ ${filled} –∏–∑ 4 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª–µ–π`;
                        progressText.style.color = 'var(--text-light)';
                    }
                }
            },
            setupAutoSave() {
                const form = document.getElementById('diagnosticForm');
                if (!form) return;
                const autoSaveHandler = () => {
                    this.saveFormData();
                    this.updateProgress();
                    this.showSaveIndicator();
                };
                const debouncedHandler = this.debounce(autoSaveHandler, 500);
                const formElements = form.querySelectorAll('input, select, textarea');
                formElements.forEach(element => {
                    element.addEventListener('input', debouncedHandler);
                    element.addEventListener('change', debouncedHandler);
                });
            },
            debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            },
            saveFormData() {
                try {
                    const form = document.getElementById('diagnosticForm');
                    if (!form) return;
                    const formData = new FormData(form);
                    const data = {};
                    for (const [key, value] of formData.entries()) {
                        data[key] = value;
                    }
                    localStorage.setItem('motodiag_form_data', JSON.stringify(data));
                } catch (e) {
                    console.warn('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã:', e);
                }
            },
            loadFormData() {
                try {
                    const savedData = localStorage.getItem('motodiag_form_data');
                    if (!savedData) return;
                    const data = JSON.parse(savedData);
                    Object.keys(data).forEach(key => {
                        const el = document.getElementById(key);
                        if (el) el.value = data[key];
                    });
                    const brandEl = document.getElementById('brand');
                    if (brandEl && data.brand) {
                        brandEl.dispatchEvent(new Event('change'));
                        setTimeout(() => {
                            const modelEl = document.getElementById('model');
                            if (modelEl && data.model) {
                                modelEl.value = data.model;
                                modelEl.dispatchEvent(new Event('change'));
                            }
                        }, 0);
                    }
                    const brandCustom = document.getElementById('brand_custom');
                    const modelCustom = document.getElementById('model_custom');
                    const inspectionFields = document.getElementById('inspectionFields');
                    const auctionLotGroup = document.getElementById('auctionLotNumberGroup');
                    if (brandCustom) brandCustom.classList.toggle('hidden', data.brand !== '–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞');
                    if (modelCustom) modelCustom.classList.toggle('hidden', data.model !== '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å');
                    if (inspectionFields) inspectionFields.classList.toggle('hidden', data.decision !== 'üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É');
                    if (auctionLotGroup && data.auction_type) {
                        this.toggleAuctionLotField(data.auction_type);
                    }
                } catch (e) {
                    console.warn('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ä–º—ã:', e);
                }
            },
            showSaveIndicator() {
                const indicator = document.getElementById('saveIndicator');
                if (indicator) {
                    indicator.classList.add('visible');
                    this.playSound('save');
                    setTimeout(() => indicator.classList.remove('visible'), 2000);
                }
            },
            validateForm() {
                let isValid = true;
                let errorMessage = '';
                let firstErrorElement = null;
                const brandEl = document.getElementById('brand');
                const modelEl = document.getElementById('model');
                const yearEl = document.getElementById('year');
                if (!brandEl || !modelEl || !yearEl) return false;
                if (!brandEl.value) {
                    isValid = false;
                    brandEl.style.borderColor = 'var(--danger-color)';
                    errorMessage = '–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É –º–æ—Ç–æ—Ü–∏–∫–ª–∞';
                    if (!firstErrorElement) firstErrorElement = brandEl;
                } else {
                    brandEl.style.borderColor = '';
                }
                if (!modelEl.value) {
                    isValid = false;
                    modelEl.style.borderColor = 'var(--danger-color)';
                    errorMessage = '–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å –º–æ—Ç–æ—Ü–∏–∫–ª–∞';
                    if (!firstErrorElement) firstErrorElement = modelEl;
                } else {
                    modelEl.style.borderColor = '';
                }
                if (!yearEl.value) {
                    isValid = false;
                    yearEl.style.borderColor = 'var(--danger-color)';
                    errorMessage = '–£–∫–∞–∂–∏—Ç–µ –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞';
                    if (!firstErrorElement) firstErrorElement = yearEl;
                } else {
                    yearEl.style.borderColor = '';
                }
                if (brandEl.value === '–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞') {
                    const brandCustom = document.getElementById('brand_custom');
                    if (brandCustom && !brandCustom.value.trim()) {
                        isValid = false;
                        brandCustom.style.borderColor = 'var(--danger-color)';
                        errorMessage = '–£–∫–∞–∂–∏—Ç–µ –º–∞—Ä–∫—É –≤ –ø–æ–ª–µ "–í–≤–µ–¥–∏—Ç–µ –º–∞—Ä–∫—É"';
                        if (!firstErrorElement) firstErrorElement = brandCustom;
                    } else if (brandCustom) {
                        brandCustom.style.borderColor = '';
                    }
                }
                if (modelEl.value === '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å') {
                    const modelCustom = document.getElementById('model_custom');
                    if (modelCustom && !modelCustom.value.trim()) {
                        isValid = false;
                        modelCustom.style.borderColor = 'var(--danger-color)';
                        errorMessage = '–£–∫–∞–∂–∏—Ç–µ –º–æ–¥–µ–ª—å –≤ –ø–æ–ª–µ "–í–≤–µ–¥–∏—Ç–µ –º–æ–¥–µ–ª—å"';
                        if (!firstErrorElement) firstErrorElement = modelCustom;
                    } else if (modelCustom) {
                        modelCustom.style.borderColor = '';
                    }
                }
                const year = parseInt(yearEl.value, 10);
                if (yearEl.value && (isNaN(year) || year < 1990 || year > 2030)) {
                    isValid = false;
                    yearEl.style.borderColor = 'var(--danger-color)';
                    errorMessage = '–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–µ–∂–¥—É 1990 –∏ 2030';
                    if (!firstErrorElement) firstErrorElement = yearEl;
                }
                const decision = document.getElementById('decision')?.value;
                if (decision === 'üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É') {
                    const requiredFields = ['inspection_date', 'inspection_time', 'inspection_address', 'customer_phone'];
                    requiredFields.forEach(fieldId => {
                        const field = document.getElementById(fieldId);
                        if (field && !field.value.trim()) {
                            isValid = false;
                            field.style.borderColor = 'var(--danger-color)';
                            errorMessage = '–î–ª—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è';
                            if (!firstErrorElement) firstErrorElement = field;
                        } else if (field) {
                            field.style.borderColor = '';
                        }
                    });
                }
                if (!isValid) {
                    this.showToast(errorMessage || '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', 'warning');
                    this.playSound('error');
                    const generateBtn = document.getElementById('generateBtn');
                    if (generateBtn) {
                        generateBtn.classList.add('shake');
                        setTimeout(() => generateBtn.classList.remove('shake'), 500);
                    }
                    if (firstErrorElement) {
                        setTimeout(() => {
                            firstErrorElement.scrollIntoView({ 
                                behavior: 'smooth', 
                                block: 'center' 
                            });
                            firstErrorElement.classList.add('pulse');
                            setTimeout(() => firstErrorElement.classList.remove('pulse'), 1500);
                            if (firstErrorElement.tagName === 'INPUT' || firstErrorElement.tagName === 'SELECT') {
                                firstErrorElement.focus();
                            }
                        }, 300);
                    }
                }
                return isValid;
            },
            generateReport() {
                if (!this.validateForm()) return;
                try {
                    const form = document.getElementById('diagnosticForm');
                    const formData = new FormData(form);
                    const data = Object.fromEntries(formData.entries());
                    const report = this.generateReportText(data);
                    const output = document.getElementById('output');
                    const outputCard = document.getElementById('outputCard');
                    const copyBtn = document.getElementById('copyBtn');
                    if (output) output.textContent = report;
                    if (outputCard) outputCard.classList.remove('hidden');
                    if (copyBtn) {
                        copyBtn.textContent = 'üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π';
                        copyBtn.classList.remove('hidden');
                    }
                    this.calculateAndShowSavings(data);
                    if (outputCard) outputCard.scrollIntoView({ behavior: 'smooth' });
                    this.playSound('success');
                    this.showToast('–û—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω!', 'success');
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞:', e);
                    this.playSound('error');
                    this.showToast('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ç—á–µ—Ç–∞', 'warning');
                }
            },
            generateReportText(data) {
                const brand = data.brand === '–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞' ? data.brand_custom : data.brand;
                const model = data.model === '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å' ? data.model_custom : data.model;
                let report = `üèçÔ∏è –ú–æ—Ç–æ–ø–æ–¥–±–æ—Ä, –æ—Å–º–æ—Ç—Ä –º–æ—Ç–æ—Ü–∏–∫–ª–∞ –ø–µ—Ä–µ–¥ –ø–æ–∫—É–ø–∫–æ–π, –≤—ã–µ–∑–¥–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –ø–æ–¥–±–æ—Ä –ø–æ–¥ –∫–ª—é—á.\n`;
                report += `üìû –°–µ—Ä–≥–µ–π –õ–∞–Ω–¥–∏–∫ 8 950 005-05-08\n`;
                report += `üåê –°–∞–π—Ç: motopodbor.ru\n\n`;
                report += `üèçÔ∏è ${brand} ${model}\n`;
                if (data.year) report += `üìÖ –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞: ${data.year}\n`;
                if (data.mileage_km) {
                    const km = parseFloat(data.mileage_km);
                    if (!isNaN(km)) {
                        const miles = this.convertKmToMiles(km);
                        report += `üõ£Ô∏è –ü—Ä–æ–±–µ–≥: ${km} —Ç—ã—Å. –∫–º (${miles} —Ç—ã—Å. –º–∏–ª—å)\n`;
                    }
                } else if (data.mileage_miles) {
                    const miles = parseFloat(data.mileage_miles);
                    if (!isNaN(miles)) {
                        const km = this.convertMilesToKm(miles);
                        report += `üõ£Ô∏è –ü—Ä–æ–±–µ–≥: ${miles} —Ç—ã—Å. –º–∏–ª—å (${km} —Ç—ã—Å. –∫–º)\n`;
                    }
                }
                if (data.origin_country) report += `üåç –ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ: ${data.origin_country}\n`;
                if (data.auction_type) report += `üè∑Ô∏è –ê—É–∫—Ü–∏–æ–Ω/–ø–æ—Å—Ç–∞–≤–∫–∞: ${data.auction_type}\n`;
                if (data.auction_lot_number) report += `üìã –ù–æ–º–µ—Ä –ª–æ—Ç–∞/—Å—Å—ã–ª–∫–∞: ${data.auction_lot_number}\n`;
                if (data.motorcycle_class) report += `üè∑Ô∏è –ö–ª–∞—Å—Å: ${data.motorcycle_class}\n`;
                if (data.legal_check) report += `üìã –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: ${data.legal_check}\n`;
                if (data.legal_status) report += `‚öñÔ∏è –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å: ${data.legal_status}\n`;
                if (data.legal_comment) report += `üìù –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${data.legal_comment}\n`;
                report += `\nüíº –í–´–í–û–î–´:\n`;
                if (data.key_finding) report += `üîë –ö–ª—é—á–µ–≤–∞—è –Ω–∞—Ö–æ–¥–∫–∞: ${data.key_finding}\n`;
                if (data.expert_verdict) report += `üë®‚Äçüíº –í–µ—Ä–¥–∏–∫—Ç —ç–∫—Å–ø–µ—Ä—Ç–∞: ${data.expert_verdict}\n`;
                if (data.decision) {
                    report += `ü§î –†–µ—à–µ–Ω–∏–µ: ${data.decision}\n`;
                    if (data.decision === 'üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É') {
                        if (data.inspection_date && data.inspection_time) {
                            const inspectionDate = new Date(data.inspection_date + 'T' + data.inspection_time);
                            report += `üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: ${inspectionDate.toLocaleString('ru-RU')}\n`;
                        }
                        if (data.inspection_address) report += `üìç –ê–¥—Ä–µ—Å: ${data.inspection_address}\n`;
                    }
                }
                if (data.price || data.objective_cost || data.seller_discount || data.investment_cost) {
                    report += `\nüí∞ –§–ò–ù–ê–ù–°–û–í–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:\n`;
                    if (data.price) report += `üíµ –¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞: ${this.formatMoneyDisplay(data.price)}\n`;
                    if (data.objective_cost) report += `üìä –û–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ${this.formatMoneyDisplay(data.objective_cost)}\n`;
                    if (data.seller_discount) report += `üéÅ –°–∫–∏–¥–∫–∞ —Å –ø—Ä–æ–¥–∞–≤—Ü–∞: ${this.formatMoneyDisplay(data.seller_discount)}\n`;
                    if (data.investment_cost) report += `üîß –°—Ç–æ–∏–º–æ—Å—Ç—å –≤–ª–æ–∂–µ–Ω–∏–π: ${this.formatMoneyDisplay(data.investment_cost)}\n`;
                }
                report += `\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`;
                report += `üìû –ì–æ—Ç–æ–≤—ã –Ω–∞–π—Ç–∏ —Å–≤–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –º–æ—Ç–æ—Ü–∏–∫–ª?\n`;
                report += `–ó–≤–æ–Ω–∏—Ç–µ: 8 950 005-05-08\n`;
                report += `–ú—ã –ø–æ–º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤—ã–±–æ—Ä! ‚úÖ`;
                return report;
            },
            generateClientReport() {
                if (!this.validateForm()) return;
                try {
                    const form = document.getElementById('diagnosticForm');
                    const formData = new FormData(form);
                    const data = Object.fromEntries(formData.entries());
                    const report = this.generateClientReportText(data);
                    const output = document.getElementById('output');
                    const outputCard = document.getElementById('outputCard');
                    const copyBtn = document.getElementById('copyBtn');
                    if (output) output.textContent = report;
                    if (outputCard) outputCard.classList.remove('hidden');
                    if (copyBtn) {
                        copyBtn.textContent = 'üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞';
                        copyBtn.classList.remove('hidden');
                    }
                    if (outputCard) outputCard.scrollIntoView({ behavior: 'smooth' });
                    this.playSound('success');
                    this.showToast('–û—Ç—á–µ—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞ —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω!', 'success');
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞:', e);
                    this.playSound('error');
                    this.showToast('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ—Ç—á–µ—Ç–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞', 'warning');
                }
            },
            generateClientReportText(data) {
                const brand = data.brand === '–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞' ? data.brand_custom : data.brand;
                const model = data.model === '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å' ? data.model_custom : data.model;
                let report = `üèçÔ∏è –î–ï–¢–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢ –û –ü–†–û–í–ï–†–ö–ï –ú–û–¢–û–¶–ò–ö–õ–ê\n`;
                report += `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n`;
                report += `üìã –û–°–ù–û–í–ù–´–ï –î–ê–ù–ù–´–ï:\n`;
                report += `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`;
                report += `‚Ä¢ –ú–∞—Ä–∫–∞: ${brand}\n`;
                report += `‚Ä¢ –ú–æ–¥–µ–ª—å: ${model}\n`;
                if (data.year) report += `‚Ä¢ –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞: ${data.year}\n`;
                if (data.mileage_km) {
                    const km = parseFloat(data.mileage_km);
                    if (!isNaN(km)) {
                        const miles = this.convertKmToMiles(km);
                        report += `‚Ä¢ –ü—Ä–æ–±–µ–≥: ${km} —Ç—ã—Å. –∫–º (${miles} —Ç—ã—Å. –º–∏–ª—å)\n`;
                    }
                }
                if (data.vin) report += `‚Ä¢ VIN: ${data.vin}\n`;
                if (data.engine_number) report += `‚Ä¢ –î–≤–∏–≥–∞—Ç–µ–ª—å: ${data.engine_number}\n`;
                if (data.license_plate) report += `‚Ä¢ –ì–æ—Å. –Ω–æ–º–µ—Ä: ${data.license_plate}\n`;
                if (data.motorcycle_class) report += `‚Ä¢ –ö–ª–∞—Å—Å: ${data.motorcycle_class}\n`;
                if (data.pts_type) report += `‚Ä¢ –¢–∏–ø –ü–¢–°: ${data.pts_type}\n`;
                if (data.legal_status) report += `‚Ä¢ –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å: ${data.legal_status}\n`;
                report += `\nüîß –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–†–û–í–ï–†–ö–ò:\n`;
                report += `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`;
                const inspectionFields = [
                    { id: 'exterior', label: '–¢–∏—Ç—É–ª—å–Ω—ã–π –ª–∏—Å—Ç', value: data.inspection_exterior },
                    { id: 'geometry', label: '–í–Ω–µ—à–Ω–∏–π –≤–∏–¥', value: data.inspection_geometry },
                    { id: 'engine', label: '–û—Å–º–æ—Ç—Ä –û–±—â–∏–π', value: data.inspection_engine },
                    { id: 'consumables', label: '–°–æ—Å—Ç–æ—è–Ω–∏–µ –õ–ö–ü', value: data.inspection_consumables },
                    { id: 'electrical', label: '–°–æ—Å—Ç–æ—è–Ω–∏–µ –°–∏–¥–µ–Ω—å—è', value: data.inspection_electrical },
                    { id: 'suspension', label: '–û—Å–º–æ—Ç—Ä –û–ø—Ç–∏–∫–∏', value: data.inspection_suspension },
                    { id: 'fuel_system', label: '–†–∞–º–∞, –®–≤—ã, –í—Ç–æ—Ä–∏—á–Ω–∞—è –æ–∫—Ä–∞—Å–∫–∞', value: data.inspection_fuel_system },
                    { id: 'brake_system', label: '–ö—Ä–∏–º–∏–Ω–∞–ª, –í–∏–Ω –Ω–æ–º–µ—Ä–∞, –ù–æ–º–µ—Ä–∞ –î–≤–∏–≥–∞—Ç–µ–ª—è', value: data.inspection_brake_system },
                    { id: 'cooling_system', label: '–ì–µ–æ–º–µ—Ç—Ä–∏—è, –ü–æ–¥—Ä–∞–º–Ω–∏–∫–∞, —Ä—É–ª—è, –≤–∏–ª–∫–∏', value: data.inspection_cooling_system },
                    { id: 'controls', label: '–û—Ä–≥–∞–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è', value: data.inspection_controls },
                    { id: 'additional_equipment', label: '–ú–æ—Ç–æ—Ä–Ω—ã–π –£–∑–µ–ª', value: data.inspection_additional_equipment },
                    { id: 'bodywork', label: '–¢–æ–ø–ª–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞', value: data.inspection_bodywork },
                    { id: 'electrical_new', label: '–°–∏—Å—Ç–µ–º–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è', value: data.inspection_electrical_new },
                    { id: 'brake_system_new', label: '–≠–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ', value: data.inspection_brake_system_new },
                    { id: 'drive', label: '–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞', value: data.inspection_drive },
                    { id: 'tires', label: '–ü—Ä–∏–≤–æ–¥', value: data.inspection_tires },
                    { id: 'suspension_front_rear', label: '–†–µ–∑–∏–Ω–∞', value: data.inspection_suspension_front_rear },
                    { id: 'computer_diagnostics', label: '–ü–æ–¥–≤–µ—Å–∫–∞ –ø–µ—Ä–µ–¥, –∑–∞–¥', value: data.inspection_computer_diagnostics },
                    { id: 'additional_equipment_new', label: '–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞', value: data.inspection_additional_equipment_new },
                    { id: 'final', label: '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ', value: data.inspection_final }
                ];
                inspectionFields.forEach(field => {
                    if (field.value && field.value.trim() !== '') {
                        report += `\nüìå ${field.label}:\n`;
                        report += `   ${field.value}\n`;
                    }
                });
                report += `\nüíº –≠–ö–°–ü–ï–†–¢–ù–û–ï –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï:\n`;
                report += `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`;
                if (data.key_finding) report += `‚Ä¢ –ö–ª—é—á–µ–≤–∞—è –Ω–∞—Ö–æ–¥–∫–∞: ${data.key_finding}\n`;
                if (data.expert_verdict) report += `‚Ä¢ –í–µ—Ä–¥–∏–∫—Ç —ç–∫—Å–ø–µ—Ä—Ç–∞: ${data.expert_verdict}\n`;
                if (data.decision) report += `‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: ${data.decision}\n`;
                report += `\nüí∞ –§–ò–ù–ê–ù–°–û–í–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:\n`;
                report += `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`;
                if (data.price) report += `‚Ä¢ –¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞: ${this.formatMoneyDisplay(data.price)}\n`;
                if (data.objective_cost) report += `‚Ä¢ –û–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: ${this.formatMoneyDisplay(data.objective_cost)}\n`;
                if (data.seller_discount) report += `‚Ä¢ –°–∫–∏–¥–∫–∞ —Å –ø—Ä–æ–¥–∞–≤—Ü–∞: ${this.formatMoneyDisplay(data.seller_discount)}\n`;
                if (data.investment_cost) report += `‚Ä¢ –°—Ç–æ–∏–º–æ—Å—Ç—å –≤–ª–æ–∂–µ–Ω–∏–π: ${this.formatMoneyDisplay(data.investment_cost)}\n`;
                report += `\nüìû –ö–û–ù–¢–ê–ö–¢–´:\n`;
                report += `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`;
                report += `–°–µ—Ä–≥–µ–π –õ–∞–Ω–¥–∏–∫\n`;
                report += `–¢–µ–ª–µ—Ñ–æ–Ω: 8 950 005-05-08\n`;
                report += `–°–∞–π—Ç: motopodbor.ru\n\n`;
                report += `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n`;
                report += `–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –¥–æ–≤–µ—Ä–∏–µ! üèçÔ∏è‚úÖ\n`;
                return report;
            },
            generatePDFReportMultiPage() {
                if (!this.validateForm()) return;
                try {
                    if (typeof window.jspdf === 'undefined') {
                        this.showToast('–û—à–∏–±–∫–∞: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ jsPDF –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞', 'warning');
                        return;
                    }
                    if (typeof html2canvas === 'undefined') {
                        this.showToast('–û—à–∏–±–∫–∞: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ html2canvas –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞', 'warning');
                        return;
                    }
                    const form = document.getElementById('diagnosticForm');
                    const formData = new FormData(form);
                    const data = Object.fromEntries(formData.entries());
                    this.showToast('–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ PDF –æ—Ç—á–µ—Ç–∞...', 'info');
                    const htmlContent = this.generatePDFHtmlContentMultiPage(data);
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF('p', 'mm', 'a4');
                    doc.setProperties({
                        title: `–û—Ç—á–µ—Ç –ø–æ –º–æ—Ç–æ—Ü–∏–∫–ª—É ${data.brand || ''} ${data.model || ''}`,
                        subject: '–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç',
                        author: '–ú–æ—Ç–æ–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PRO',
                        keywords: '–º–æ—Ç–æ—Ü–∏–∫–ª, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –æ—Ç—á–µ—Ç',
                        creator: '–ú–æ—Ç–æ–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PRO'
                    });
                    const tempContainer = document.createElement('div');
                    tempContainer.style.width = '210mm';
                    tempContainer.style.minHeight = '297mm';
                    tempContainer.style.padding = '15mm';
                    tempContainer.style.background = 'white';
                    tempContainer.style.color = 'black';
                    tempContainer.style.fontFamily = 'Arial, sans-serif';
                    tempContainer.style.position = 'absolute';
                    tempContainer.style.left = '-9999px';
                    tempContainer.style.boxSizing = 'border-box';
                    tempContainer.innerHTML = htmlContent;
                    document.body.appendChild(tempContainer);
                    const pages = tempContainer.querySelectorAll('.pdf-page');
                    const generatePage = (pageIndex) => {
                        if (pageIndex >= pages.length) {
                            const filename = `–û—Ç—á–µ—Ç_${(data.brand || '–º–æ—Ç–æ—Ü–∏–∫–ª').replace(/[^\w]/g, '_')}_${(data.model || '').replace(/[^\w]/g, '_')}_${new Date().toISOString().split('T')[0]}.pdf`;
                            doc.save(filename);
                            document.body.removeChild(tempContainer);
                            this.playSound('success');
                            this.showToast('PDF –æ—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏ —Å–∫–∞—á–∞–Ω!', 'success');
                            return;
                        }
                        const page = pages[pageIndex];
                        html2canvas(page, {
                            scale: 2,
                            useCORS: true,
                            logging: false,
                            backgroundColor: '#ffffff',
                            width: page.offsetWidth,
                            height: page.offsetHeight,
                            windowWidth: page.scrollWidth,
                            windowHeight: page.scrollHeight
                        }).then(canvas => {
                            const imgData = canvas.toDataURL('image/png');
                            const imgWidth = 210;
                            const imgHeight = (canvas.height * imgWidth) / canvas.width;
                            if (pageIndex > 0) {
                                doc.addPage();
                            }
                            doc.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);
                            generatePage(pageIndex + 1);
                        }).catch(error => {
                            console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã PDF:', error);
                            document.body.removeChild(tempContainer);
                            this.playSound('error');
                            this.showToast('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PDF –æ—Ç—á–µ—Ç–∞', 'warning');
                        });
                    };
                    generatePage(0);
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF –æ—Ç—á–µ—Ç–∞:', e);
                    this.playSound('error');
                    this.showToast('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ PDF –æ—Ç—á–µ—Ç–∞', 'warning');
                }
            },
            generatePDFHtmlContentMultiPage(data) {
                const brand = data.brand === '–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞' ? data.brand_custom : data.brand;
                const model = data.model === '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å' ? data.model_custom : data.model;
                const currentDate = new Date().toLocaleDateString('ru-RU');
                let html = `
                <div class="pdf-template">
                    <div class="pdf-page">
                        <div style="position: absolute; top: 5mm; right: 5mm; font-size: 30px; opacity: 0.1; color: #ccc; transform: rotate(-45deg);">motopodbor.ru</div>
                        <div style="text-align: center; margin-bottom: 15px;">
                            <h1 style="font-size: 20px; margin-bottom: 6px; color: #333;">–û–¢–ß–ï–¢ –û –î–ò–ê–ì–ù–û–°–¢–ò–ö–ï –ú–û–¢–û–¶–ò–ö–õ–ê</h1>
                            <p style="font-size: 12px; color: #666;">–ú–æ—Ç–æ–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PRO - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ø–æ–¥–±–æ—Ä –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤</p>
                        </div>
                        <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                            <div style="flex: 1;">
                                ${this.state.currentPhotos['exterior'] && this.state.currentPhotos['exterior'].length > 0 ? `
                                    <div style="text-align: center; margin-bottom: 12px;">
                                        <img src="${this.state.currentPhotos['exterior'][0].data}" style="max-width: 100%; max-height: 650px; width: auto; height: auto; object-fit: contain; border-radius: 4px; border: 1px solid #ddd;" alt="–§–æ—Ç–æ —Ç–∏—Ç—É–ª—å–Ω–æ–≥–æ –ª–∏—Å—Ç–∞">
                                        <div style="font-size: 9px; color: #666; margin-top: 4px;">–û—Å–Ω–æ–≤–Ω–æ–µ —Ñ–æ—Ç–æ –º–æ—Ç–æ—Ü–∏–∫–ª–∞</div>
                                    </div>
                                ` : `
                                    <div style="text-align: center; margin-bottom: 12px; padding: 30px; background: #f8f9fa; border-radius: 4px; border: 2px dashed #ddd;">
                                        <div style="font-size: 12px; color: #666;">–§–æ—Ç–æ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ</div>
                                    </div>
                                `}
                            </div>
                            <div style="flex: 2;">
                                <div style="background: #f8f9fa; border-radius: 6px; padding: 10px; margin-bottom: 12px;">
                                    <h2 style="font-size: 14px; margin: 0 0 8px 0; padding-bottom: 5px; border-bottom: 1px solid #3498db;">–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 5px; font-size: 9px;">
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–ú–∞—Ä–∫–∞:</span> ${this.escapeHtml(brand || '–ù–µ —É–∫–∞–∑–∞–Ω–∞')}
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–ú–æ–¥–µ–ª—å:</span> ${this.escapeHtml(model || '–ù–µ —É–∫–∞–∑–∞–Ω–∞')}
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:</span> ${this.escapeHtml(data.year || '–ù–µ —É–∫–∞–∑–∞–Ω')}
                                        </div>
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–ü—Ä–æ–±–µ–≥:</span> ${data.mileage_km ? this.escapeHtml(data.mileage_km) + ' —Ç—ã—Å. –∫–º' : data.mileage_miles ? this.escapeHtml(data.mileage_miles) + ' —Ç—ã—Å. –º–∏–ª—å' : '–ù–µ —É–∫–∞–∑–∞–Ω'}
                                        </div>
                                        ${data.vin ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">VIN:</span> ${this.escapeHtml(data.vin)}
                                        </div>
                                        ` : ''}
                                        ${data.engine_number ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–î–≤–∏–≥–∞—Ç–µ–ª—å:</span> ${this.escapeHtml(data.engine_number)}
                                        </div>
                                        ` : ''}
                                        ${data.license_plate ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–ì–æ—Å. –Ω–æ–º–µ—Ä:</span> ${this.escapeHtml(data.license_plate)}
                                        </div>
                                        ` : ''}
                                        ${data.motorcycle_class ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–ö–ª–∞—Å—Å:</span> ${this.escapeHtml(data.motorcycle_class)}
                                        </div>
                                        ` : ''}
                                        ${data.gearbox_type ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–¢–∏–ø –∫–æ—Ä–æ–±–∫–∏:</span> ${this.escapeHtml(data.gearbox_type)}
                                        </div>
                                        ` : ''}
                                        ${data.origin_country ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ:</span> ${this.escapeHtml(data.origin_country)}
                                        </div>
                                        ` : ''}
                                        ${data.auction_type ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–ê—É–∫—Ü–∏–æ–Ω/–ø–æ—Å—Ç–∞–≤–∫–∞:</span> ${this.escapeHtml(data.auction_type)}
                                        </div>
                                        ` : ''}
                                        ${data.auction_lot_number ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–ù–æ–º–µ—Ä –ª–æ—Ç–∞:</span> ${this.escapeHtml(data.auction_lot_number)}
                                        </div>
                                        ` : ''}
                                    </div>
                                </div>
                                ${(data.legal_check || data.legal_status || data.legal_comment || data.pts_type) ? `
                                <div style="background: #f8f9fa; border-radius: 6px; padding: 10px; margin-bottom: 12px;">
                                    <h2 style="font-size: 14px; margin: 0 0 8px 0; padding-bottom: 5px; border-bottom: 1px solid #3498db;">–î–æ–∫—É–º–µ–Ω—Ç—ã –∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å</h2>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 5px; font-size: 9px;">
                                        ${data.legal_check ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:</span> ${this.escapeHtml(data.legal_check)}
                                        </div>
                                        ` : ''}
                                        ${data.legal_status ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å:</span> ${this.escapeHtml(data.legal_status)}
                                        </div>
                                        ` : ''}
                                        ${data.pts_type ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–¢–∏–ø –ü–¢–°:</span> ${this.escapeHtml(data.pts_type)}
                                        </div>
                                        ` : ''}
                                    </div>
                                </div>
                                ` : ''}
                                ${(data.price || data.objective_cost || data.seller_discount || data.investment_cost) ? `
                                <div style="background: #f8f9fa; border-radius: 6px; padding: 10px; margin-bottom: 12px;">
                                    <h2 style="font-size: 14px; margin: 0 0 8px 0; padding-bottom: 5px; border-bottom: 1px solid #3498db;">–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 5px; font-size: 9px;">
                                        ${data.price ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞:</span> ${this.escapeHtml(this.formatMoneyDisplay(data.price))}
                                        </div>
                                        ` : ''}
                                        ${data.objective_cost ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–û–±—ä–µ–∫—Ç–∏–≤–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</span> ${this.escapeHtml(this.formatMoneyDisplay(data.objective_cost))}
                                        </div>
                                        ` : ''}
                                        ${data.seller_discount ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–°–∫–∏–¥–∫–∞ —Å –ø—Ä–æ–¥–∞–≤—Ü–∞:</span> ${this.escapeHtml(this.formatMoneyDisplay(data.seller_discount))}
                                        </div>
                                        ` : ''}
                                        ${data.investment_cost ? `
                                        <div style="display: flex; justify-content: space-between;">
                                            <span style="font-weight: bold;">–°—Ç–æ–∏–º–æ—Å—Ç—å –≤–ª–æ–∂–µ–Ω–∏–π:</span> ${this.escapeHtml(this.formatMoneyDisplay(data.investment_cost))}
                                        </div>
                                        ` : ''}
                                    </div>
                                </div>
                                ` : ''}
                            </div>
                        </div>
                        ${(data.key_finding || data.expert_verdict) ? `
                        <h2 style="font-size: 16px; margin: 15px 0 10px 0; padding-bottom: 6px; border-bottom: 2px solid #3498db;">–í—ã–≤–æ–¥—ã</h2>
                        <div style="background: #f8f9fa; padding: 10px; border-radius: 6px; border-left: 4px solid #3498db; margin-bottom: 12px;">
                            ${data.key_finding ? `
                            <div style="margin-bottom: 6px;">
                                <strong>–ö–ª—é—á–µ–≤–∞—è –Ω–∞—Ö–æ–¥–∫–∞:</strong> ${this.escapeHtml(data.key_finding)}
                            </div>
                            ` : ''}
                            ${data.expert_verdict ? `
                            <div>
                                <strong>–≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π –≤–µ—Ä–¥–∏–∫—Ç:</strong> ${this.escapeHtml(data.expert_verdict)}
                            </div>
                            ` : ''}
                        </div>
                        ` : ''}
                        ${data.decision ? `
                        <h2 style="font-size: 16px; margin: 15px 0 10px 0; padding-bottom: 6px; border-bottom: 2px solid #3498db;">–†–µ—à–µ–Ω–∏–µ</h2>
                        <div style="background: ${data.decision === '‚úÖ –ö—É–ø–ª–µ–Ω' ? '#d4edda' : data.decision === '‚ùå –ù–µ –ö—É–ø–ª–µ–Ω' ? '#f8d7da' : '#fff3cd'}; 
                                    padding: 10px; border-radius: 5px; border-left: 4px solid ${data.decision === '‚úÖ –ö—É–ø–ª–µ–Ω' ? '#28a745' : data.decision === '‚ùå –ù–µ –ö—É–ø–ª–µ–Ω' ? '#dc3545' : '#ffc107'}; margin-bottom: 12px;">
                            <strong>–†–µ—à–µ–Ω–∏–µ:</strong> ${this.escapeHtml(data.decision)}
                        </div>
                        ` : ''}
                        <div style="position: absolute; bottom: 8mm; left: 8mm; right: 8mm; font-size: 9px; color: #666; text-align: center; border-top: 1px solid #eee; padding-top: 6px;">
                            –û—Ç—á–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω: ${currentDate} | –°–µ—Ä–≥–µ–π –õ–∞–Ω–¥–∏–∫ 8 950 005-05-08 | motopodbor.ru
                        </div>
                        <div style="position: absolute; bottom: 5mm; right: 8mm; font-size: 9px; color: #666;">
                            –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1
                        </div>
                    </div>
                `;
                const inspectionFields = [
                    { section: 'geometry', label: '–í–Ω–µ—à–Ω–∏–π –≤–∏–¥', value: data.inspection_geometry },
                    { section: 'engine', label: '–û—Å–º–æ—Ç—Ä –û–±—â–∏–π', value: data.inspection_engine },
                    { section: 'consumables', label: '–°–æ—Å—Ç–æ—è–Ω–∏–µ –õ–ö–ü', value: data.inspection_consumables },
                    { section: 'electrical', label: '–°–æ—Å—Ç–æ—è–Ω–∏–µ –°–∏–¥–µ–Ω—å—è', value: data.inspection_electrical },
                    { section: 'suspension', label: '–û—Å–º–æ—Ç—Ä –û–ø—Ç–∏–∫–∏', value: data.inspection_suspension },
                    { section: 'fuel_system', label: '–†–∞–º–∞, –®–≤—ã, –í—Ç–æ—Ä–∏—á–Ω–∞—è –æ–∫—Ä–∞—Å–∫–∞', value: data.inspection_fuel_system },
                    { section: 'brake_system', label: '–ö—Ä–∏–º–∏–Ω–∞–ª, –í–∏–Ω –Ω–æ–º–µ—Ä–∞, –ù–æ–º–µ—Ä–∞ –î–≤–∏–≥–∞—Ç–µ–ª—è', value: data.inspection_brake_system },
                    { section: 'cooling_system', label: '–ì–µ–æ–º–µ—Ç—Ä–∏—è, –ü–æ–¥—Ä–∞–º–Ω–∏–∫–∞, —Ä—É–ª—è, –≤–∏–ª–∫–∏', value: data.inspection_cooling_system },
                    { section: 'controls', label: '–û—Ä–≥–∞–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è', value: data.inspection_controls },
                    { section: 'additional_equipment', label: '–ú–æ—Ç–æ—Ä–Ω—ã–π –£–∑–µ–ª', value: data.inspection_additional_equipment },
                    { section: 'bodywork', label: '–¢–æ–ø–ª–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞', value: data.inspection_bodywork },
                    { section: 'electrical_new', label: '–°–∏—Å—Ç–µ–º–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è', value: data.inspection_electrical_new },
                    { section: 'brake_system_new', label: '–≠–ª–µ–∫—Ç—Ä–æ–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ', value: data.inspection_brake_system_new },
                    { section: 'drive', label: '–¢–æ—Ä–º–æ–∑–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞', value: data.inspection_drive },
                    { section: 'tires', label: '–ü—Ä–∏–≤–æ–¥', value: data.inspection_tires },
                    { section: 'suspension_front_rear', label: '–†–µ–∑–∏–Ω–∞', value: data.inspection_suspension_front_rear },
                    { section: 'computer_diagnostics', label: '–ü–æ–¥–≤–µ—Å–∫–∞ –ø–µ—Ä–µ–¥, –∑–∞–¥', value: data.inspection_computer_diagnostics },
                    { section: 'additional_equipment_new', label: '–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞', value: data.inspection_additional_equipment_new },
                    { section: 'final', label: '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ', value: data.inspection_final }
                ];
                let pageNumber = 2;
                inspectionFields.forEach(field => {
                    const hasText = field.value && field.value.trim() !== '';
                    const hasPhotos = this.state.currentPhotos[field.section] && this.state.currentPhotos[field.section].length > 0;
                    if (hasText || hasPhotos) {
                        const photos = hasPhotos ? this.state.currentPhotos[field.section] : [];
                        const photosPerPage = 4;
                        const photoGroups = [];
                        for (let i = 0; i < photos.length; i += photosPerPage) {
                            photoGroups.push(photos.slice(i, i + photosPerPage));
                        }
                        if (photoGroups.length === 0) {
                            html += this.generateInspectionPage(field, hasText ? field.value : null, [], pageNumber, false, brand, model, currentDate);
                            pageNumber++;
                        } else {
                            photoGroups.forEach((group, index) => {
                                const isFirstPage = index === 0;
                                const isContinued = index > 0;
                                const pageText = isFirstPage && hasText ? field.value : null;
                                html += this.generateInspectionPage(field, pageText, group, pageNumber, isContinued, brand, model, currentDate);
                                pageNumber++;
                            });
                        }
                    }
                });
                html += `</div>`;
                return html;
            },
            generateInspectionPage(field, text, photos, pageNumber, isContinued, brand, model, currentDate) {
                const photosPerRow = 2;
                const maxPhotosPerPage = 4;
                let html = `
                    <div class="pdf-page">
                        <div style="position: absolute; top: 5mm; right: 5mm; font-size: 30px; opacity: 0.1; color: #ccc; transform: rotate(-45deg);">motopodbor.ru</div>
                        <div style="text-align: center; margin-bottom: 15px;">
                            <h1 style="font-size: 18px; margin-bottom: 6px; color: #333;">${field.label.toUpperCase()}${isContinued ? ' (–ü–†–û–î–û–õ–ñ–ï–ù–ò–ï)' : ''}</h1>
                            <p style="font-size: 12px; color: #666;">${brand} ${model} - –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞</p>
                        </div>
                `;
                if (text) {
                    html += `
                        <h2 style="font-size: 14px; margin: 12px 0 8px 0; padding-bottom: 5px; border-bottom: 1px solid #3498db;">–û–ø–∏—Å–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</h2>
                        <div style="font-size: 11px; line-height: 1.4; margin-bottom: 12px; background: #f8f9fa; padding: 8px; border-radius: 4px;">
                            ${this.escapeHtml(text)}
                        </div>
                    `;
                }
                if (photos.length > 0) {
                    html += `
                        <h2 style="font-size: 14px; margin: 12px 0 8px 0; padding-bottom: 5px; border-bottom: 1px solid #3498db;">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (${photos.length})</h2>
                        <div style="display: grid; grid-template-columns: repeat(${photosPerRow}, 1fr); gap: 6px; margin-bottom: 12px;">
                    `;
                    photos.forEach((photo, index) => {
                        const photoIndex = isContinued ? index + (pageNumber - 2) * maxPhotosPerPage : index;
                        html += `
                            <div style="text-align: center;">
                                <img src="${photo.data}" style="max-width: 100%; max-height: 350px; width: auto; height: auto; object-fit: contain; border-radius: 4px; border: 1px solid #ddd;" alt="–§–æ—Ç–æ ${photoIndex + 1}">
                                <div style="font-size: 8px; color: #666; margin-top: 3px;">–§–æ—Ç–æ ${photoIndex + 1}</div>
                            </div>
                        `;
                    });
                    html += `</div>`;
                }
                html += `
                        <div style="position: absolute; bottom: 8mm; left: 8mm; right: 8mm; font-size: 9px; color: #666; text-align: center; border-top: 1px solid #eee; padding-top: 6px;">
                            –û—Ç—á–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω: ${currentDate} | –°–µ—Ä–≥–µ–π –õ–∞–Ω–¥–∏–∫ 8 950 005-05-08 | motopodbor.ru
                        </div>
                        <div style="position: absolute; bottom: 5mm; right: 8mm; font-size: 9px; color: #666;">
                            –°—Ç—Ä–∞–Ω–∏—Ü–∞ ${pageNumber}
                        </div>
                    </div>
                `;
                return html;
            },
            formatMoneyDisplay(value) {
                if (!value) return '–ù–µ —É–∫–∞–∑–∞–Ω–∞';
                if (typeof value === 'string' && (value.includes('—Ç—ã—Å') || value.includes('–º–ª–Ω'))) {
                    return value;
                }
                const numValue = this.parseMoneyValue(value);
                if (numValue >= 1000000) {
                    return (numValue / 1000000).toFixed(1).replace('.0', '') + ' –º–ª–Ω —Ä—É–±';
                } else if (numValue >= 1000) {
                    return (numValue / 1000).toFixed(0) + ' —Ç—ã—Å. —Ä—É–±';
                } else {
                    return numValue + ' —Ä—É–±';
                }
            },
            calculateAndShowSavings(data) {
                const price = this.parseMoneyValue(data.price);
                const objectiveCost = this.parseMoneyValue(data.objective_cost);
                const sellerDiscount = this.parseMoneyValue(data.seller_discount);
                const investmentCost = this.parseMoneyValue(data.investment_cost);
                const savingsAlert = document.getElementById('savingsAlert');
                if (price && objectiveCost && savingsAlert) {
                    const savings = (objectiveCost - (price - sellerDiscount)) - investmentCost;
                    if (savings > 0) {
                        savingsAlert.textContent = `üíµ –û–±—â–∞—è —ç–∫–æ–Ω–æ–º–∏—è –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞: ${this.formatMoneyDisplay(savings.toString())}`;
                        savingsAlert.classList.remove('hidden');
                    } else {
                        savingsAlert.classList.add('hidden');
                    }
                } else if (savingsAlert) {
                    savingsAlert.classList.add('hidden');
                }
            },
            parseMoneyValue(value) {
                if (!value) return 0;
                let str = value.toString().toLowerCase().replace(/\s/g, '').replace(',', '.');
                let num = parseFloat(str);
                if (isNaN(num)) return 0;
                if (str.includes('–º–ª–Ω')) {
                    return num * 1000000;
                } else if (str.includes('—Ç—ã—Å') || str.includes('—Ç.—Ä.') || str.includes('–∫')) {
                    return num * 1000;
                } else if (str.includes('—Ä—É–±')) {
                    return num;
                } else {
                    if (num > 100000) {
                        return num;
                    } else {
                        return num * 1000;
                    }
                }
            },
            formatMoney(amount) {
                if (amount >= 1000000) {
                    return (amount / 1000000).toFixed(1).replace('.0', '') + ' –º–ª–Ω';
                } else if (amount >= 1000) {
                    return (amount / 1000).toFixed(0) + ' —Ç—ã—Å.';
                } else {
                    return amount + ' —Ä—É–±';
                }
            },
            saveReportToDatabase() {
                if (!this.validateForm()) return;
                try {
                    const form = document.getElementById('diagnosticForm');
                    const formData = new FormData(form);
                    const data = Object.fromEntries(formData.entries());
                    const brand = data.brand === '–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞' ? data.brand_custom : data.brand;
                    const model = data.model === '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å' ? data.model_custom : data.model;
                    const report = {
                        id: Date.now().toString(),
                        timestamp: new Date().toISOString(),
                        ...data,
                        brand,
                        model,
                        generated_text: document.getElementById('output')?.textContent || '',
                        photos: JSON.parse(JSON.stringify(this.state.currentPhotos))
                    };
                    this.state.reportsDatabase.push(report);
                    localStorage.setItem('motodiag_reports', JSON.stringify(this.state.reportsDatabase));
                    if (data.decision === 'üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É') {
                        this.saveInspectionToDatabase(data, report.id);
                    }
                    this.playSound('success');
                    this.showToast('–û—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö!', 'success');
                    this.loadReportsList();
                    this.updateStatistics();
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞:', e);
                    this.playSound('error');
                    this.showToast('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ç—á–µ—Ç–∞', 'warning');
                }
            },
            saveInspectionToDatabase(data, reportId) {
                try {
                    const inspection = {
                        id: Date.now().toString(),
                        reportId: reportId,
                        timestamp: new Date().toISOString(),
                        brand: data.brand === '–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞' ? data.brand_custom : data.brand,
                        model: data.model === '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å' ? data.model_custom : data.model,
                        year: data.year,
                        date: data.inspection_date,
                        time: data.inspection_time,
                        address: data.inspection_address,
                        customer_phone: data.customer_phone,
                        seller_phone: data.seller_phone,
                        notes: data.inspection_notes,
                        status: 'planned',
                        reminded: false
                    };
                    this.state.inspectionsDatabase.push(inspection);
                    localStorage.setItem('motodiag_inspections', JSON.stringify(this.state.inspectionsDatabase));
                    this.playSound('success');
                    this.showToast('–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞!', 'success');
                    this.loadInspectionsList();
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏:', e);
                    this.playSound('error');
                    this.showToast('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏', 'warning');
                }
            },
            clearForm() {
                if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ø–æ–ª—è —Ñ–æ—Ä–º—ã?')) return;
                const form = document.getElementById('diagnosticForm');
                if (form) form.reset();
                localStorage.removeItem('motodiag_form_data');
                const outputCard = document.getElementById('outputCard');
                const savingsAlert = document.getElementById('savingsAlert');
                const inspectionFields = document.getElementById('inspectionFields');
                const brandCustom = document.getElementById('brand_custom');
                const modelCustom = document.getElementById('model_custom');
                const auctionLotGroup = document.getElementById('auctionLotNumberGroup');
                if (outputCard) outputCard.classList.add('hidden');
                if (savingsAlert) savingsAlert.classList.add('hidden');
                if (inspectionFields) inspectionFields.classList.add('hidden');
                if (brandCustom) brandCustom.classList.add('hidden');
                if (modelCustom) modelCustom.classList.add('hidden');
                if (auctionLotGroup) auctionLotGroup.classList.add('hidden');
                const brandSelect = document.getElementById('brand');
                if (brandSelect) {
                    brandSelect.value = '';
                    brandSelect.dispatchEvent(new Event('change'));
                }
                this.clearAllPhotos();
                this.state.editingReportId = null;
                this.updateProgress();
                this.playSound('success');
                this.showToast('–§–æ—Ä–º–∞ –æ—á–∏—â–µ–Ω–∞', 'success');
            },
            copyToClipboard() {
                try {
                    const text = document.getElementById('output')?.textContent || '';
                    if (!text) {
                        this.playSound('error');
                        this.showToast('–ù–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è', 'warning');
                        return;
                    }
                    navigator.clipboard.writeText(text).then(() => {
                        this.playSound('success');
                        this.showToast('–û—Ç—á–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!', 'success');
                    }).catch(() => {
                        const textarea = document.createElement('textarea');
                        textarea.value = text;
                        document.body.appendChild(textarea);
                        textarea.select();
                        document.execCommand('copy');
                        document.body.removeChild(textarea);
                        this.playSound('success');
                        this.showToast('–û—Ç—á–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!', 'success');
                    });
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', e);
                    this.playSound('error');
                    this.showToast('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏', 'warning');
                }
            },
            copyModalReport() {
                try {
                    const text = document.getElementById('modalOutput')?.textContent || '';
                    if (!text) {
                        this.playSound('error');
                        this.showToast('–ù–µ—Ç —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è', 'warning');
                        return;
                    }
                    navigator.clipboard.writeText(text).then(() => {
                        this.playSound('success');
                        this.showToast('–û—Ç—á–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π!', 'success');
                    }).catch(() => {
                        const textarea = document.createElement('textarea');
                        textarea.value = text;
                        document.body.appendChild(textarea);
                        textarea.select();
                        document.execCommand('copy');
                        document.body.removeChild(textarea);
                        this.playSound('success');
                        this.showToast('–û—Ç—á–µ—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ –¥–ª—è —Å–æ—Ü—Å–µ—Ç–µ–π!', 'success');
                    });
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', e);
                    this.playSound('error');
                    this.showToast('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏', 'warning');
                }
            },
            showToast(message, type = 'info') {
                const toastId = 'toast-' + Date.now();
                const container = document.getElementById('toastContainer');
                if (!container) return;
                if (this.state.activeToasts.size >= 3) {
                    const oldestToastId = Array.from(this.state.activeToasts)[0];
                    const oldestToast = document.getElementById(oldestToastId);
                    if (oldestToast) {
                        this.removeToast(oldestToast);
                    }
                }
                const toast = document.createElement('div');
                toast.className = `toast toast-${type}`;
                toast.id = toastId;
                toast.setAttribute('role', 'status');
                toast.innerHTML = `
                    ${message}
                    <button class="toast-close" onclick="app.removeToast(document.getElementById('${toastId}'))" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
                `;
                container.appendChild(toast);
                this.state.activeToasts.add(toastId);
                switch(type) {
                    case 'success':
                        this.playSound('success');
                        break;
                    case 'warning':
                        this.playSound('warning');
                        break;
                    case 'error':
                        this.playSound('error');
                        break;
                    default:
                        this.playSound('notification');
                }
                requestAnimationFrame(() => toast.classList.add('show'));
                setTimeout(() => {
                    this.removeToast(toast);
                }, 4000);
            },
            showError(message) {
                this.showToast(message, 'warning');
            },
            escapeHtml(str) {
                return String(str || '').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');
            },
            loadReportsList() {
                const reportsList = document.getElementById('reportsList');
                if (!reportsList) return;
                const searchValue = (document.getElementById('searchReports')?.value || '').toLowerCase();
                if (this.state.reportsDatabase.length === 0) {
                    reportsList.innerHTML = '<div class="text-center" style="padding: 20px; color: var(--text-light);">–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤</div>';
                    return;
                }
                const filtered = this.state.reportsDatabase.filter(report => {
                    if (!searchValue) return true;
                    return (
                        report.brand?.toLowerCase().includes(searchValue) ||
                        report.model?.toLowerCase().includes(searchValue) ||
                        (report.year && String(report.year).includes(searchValue)) ||
                        report.vin?.toLowerCase().includes(searchValue) ||
                        report.engine_number?.toLowerCase().includes(searchValue) ||
                        report.license_plate?.toLowerCase().includes(searchValue)
                    );
                }).reverse();
                if (filtered.length === 0) {
                    reportsList.innerHTML = '<div class="text-center" style="padding: 20px; color: var(--text-light);">–û—Ç—á–µ—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
                    return;
                }
                reportsList.innerHTML = filtered.map(report => {
                    const hasPhotos = report.photos && Object.keys(report.photos).some(section => 
                        report.photos[section] && report.photos[section].length > 0
                    );
                    return `
                    <div class="report-item">
                        <div class="report-header">
                            <div class="report-title">${this.escapeHtml(report.brand)} ${this.escapeHtml(report.model)} (${this.escapeHtml(report.year)}) ${hasPhotos ? 'üì∑' : ''}</div>
                            <div class="report-actions">
                                <button class="action-btn" style="background: var(--secondary-color); color: white;" onclick="app.viewReport('${report.id}')" aria-label="–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç—á–µ—Ç">üëÅÔ∏è</button>
                                <button class="action-btn" style="background: var(--warning-color); color: white;" onclick="app.editReport('${report.id}')" aria-label="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç">‚úèÔ∏è</button>
                                <button class="action-btn" style="background: var(--danger-color); color: white;" onclick="app.deleteReport('${report.id}')" aria-label="–£–¥–∞–ª–∏—Ç—å –æ—Ç—á–µ—Ç">üóëÔ∏è</button>
                            </div>
                        </div>
                        <div class="report-meta">
                            <div>–ü—Ä–æ–±–µ–≥: ${this.escapeHtml(report.mileage_km || report.mileage_miles || '0')} ${report.mileage_km ? '—Ç—ã—Å.–∫–º' : report.mileage_miles ? '—Ç—ã—Å.–º–∏–ª—å' : ''}</div>
                            <div>–¶–µ–Ω–∞: ${this.escapeHtml(report.price || '–ù–µ —É–∫–∞–∑–∞–Ω–∞')}</div>
                            <div>${report.vin ? `VIN: ${this.escapeHtml(report.vin)}` : 'VIN: –ù–µ —É–∫–∞–∑–∞–Ω'}</div>
                            <div>${report.engine_number ? `–î–≤–∏–≥–∞—Ç–µ–ª—å: ${this.escapeHtml(report.engine_number)}` : '–î–≤–∏–≥–∞—Ç–µ–ª—å: –ù–µ —É–∫–∞–∑–∞–Ω'}</div>
                            <div>${report.license_plate ? `–ù–æ–º–µ—Ä: ${this.escapeHtml(report.license_plate)}` : '–ù–æ–º–µ—Ä: –ù–µ —É–∫–∞–∑–∞–Ω'}</div>
                            <div>–ö–ª–∞—Å—Å: ${this.escapeHtml(report.motorcycle_class || '–ù–µ —É–∫–∞–∑–∞–Ω')}</div>
                            <div>–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —Å—Ç–∞—Ç—É—Å: ${this.escapeHtml(report.legal_status || '–ù–µ —É–∫–∞–∑–∞–Ω')}</div>
                            <div>–†–µ—à–µ–Ω–∏–µ: ${this.escapeHtml(report.decision || '–ù–µ —É–∫–∞–∑–∞–Ω–æ')}</div>
                        </div>
                    </div>
                `}).join('');
            },
            viewReport(reportId) {
                const report = this.state.reportsDatabase.find(r => r.id === reportId);
                if (!report) return;
                const modalVin = document.getElementById('modalVin');
                const modalEngineNumber = document.getElementById('modalEngineNumber');
                const modalLicensePlate = document.getElementById('modalLicensePlate');
                const modalBikeInfo = document.getElementById('modalBikeInfo');
                const modalOutput = document.getElementById('modalOutput');
                const reportModal = document.getElementById('reportModal');
                if (modalVin) modalVin.textContent = report.vin ? this.escapeHtml(report.vin) : '–ù–µ —É–∫–∞–∑–∞–Ω';
                if (modalEngineNumber) modalEngineNumber.textContent = report.engine_number ? this.escapeHtml(report.engine_number) : '–ù–µ —É–∫–∞–∑–∞–Ω';
                if (modalLicensePlate) modalLicensePlate.textContent = report.license_plate ? this.escapeHtml(report.license_plate) : '–ù–µ —É–∫–∞–∑–∞–Ω';
                if (modalBikeInfo) modalBikeInfo.textContent = `${this.escapeHtml(report.brand)} ${this.escapeHtml(report.model)} (${this.escapeHtml(report.year)})`;
                if (modalOutput) modalOutput.textContent = report.generated_text || '';
                if (reportModal) reportModal.classList.remove('hidden');
                this.playSound('click');
            },
            editReport(reportId) {
                const report = this.state.reportsDatabase.find(r => r.id === reportId);
                if (!report) return;
                this.state.editingReportId = reportId;
                this.state.currentPhotos = {};
                Object.keys(report).forEach(key => {
                    const el = document.getElementById(key);
                    if (el && report[key] !== undefined && report[key] !== null) {
                        el.value = report[key];
                    }
                });
                if (report.photos) {
                    this.state.currentPhotos = JSON.parse(JSON.stringify(report.photos));
                    this.saveCurrentPhotosImproved();
                    this.loadPhotoPreviews();
                }
                const brandSelect = document.getElementById('brand');
                if (brandSelect && report.brand) {
                    brandSelect.value = report.brand;
                    brandSelect.dispatchEvent(new Event('change'));
                    setTimeout(() => {
                        const modelSelect = document.getElementById('model');
                        if (modelSelect && report.model) {
                            modelSelect.value = report.model;
                            modelSelect.dispatchEvent(new Event('change'));
                        }
                    }, 0);
                }
                const brandCustom = document.getElementById('brand_custom');
                const modelCustom = document.getElementById('model_custom');
                const inspectionFields = document.getElementById('inspectionFields');
                const auctionLotGroup = document.getElementById('auctionLotNumberGroup');
                if (brandCustom) brandCustom.classList.toggle('hidden', report.brand !== '–î—Ä—É–≥–∞—è –º–∞—Ä–∫–∞');
                if (modelCustom) modelCustom.classList.toggle('hidden', report.model !== '–î—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å');
                if (inspectionFields) inspectionFields.classList.toggle('hidden', report.decision !== 'üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É');
                if (auctionLotGroup && report.auction_type) {
                    this.toggleAuctionLotField(report.auction_type);
                }
                this.updateProgress();
                const reportTab = document.querySelector('.nav-tab[data-tab="report"]');
                if (reportTab) reportTab.click();
                this.playSound('click');
                this.showToast(`–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞: ${report.brand} ${report.model}`, 'info');
            },
            deleteReport(reportId) {
                if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –æ—Ç—á–µ—Ç?')) return;
                this.state.reportsDatabase = this.state.reportsDatabase.filter(r => r.id !== reportId);
                localStorage.setItem('motodiag_reports', JSON.stringify(this.state.reportsDatabase));
                this.state.inspectionsDatabase = this.state.inspectionsDatabase.filter(i => i.reportId !== reportId);
                localStorage.setItem('motodiag_inspections', JSON.stringify(this.state.inspectionsDatabase));
                this.loadReportsList();
                this.loadInspectionsList();
                this.updateStatistics();
                this.playSound('success');
                this.showToast('–û—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω', 'success');
            },
            exportAllData() {
                try {
                    const allData = {
                        version: '2.6.0',
                        exportDate: new Date().toISOString(),
                        reports: this.state.reportsDatabase,
                        inspections: this.state.inspectionsDatabase,
                        currentPhotos: this.state.currentPhotos,
                        settings: {
                            theme: localStorage.getItem('motodiag_theme'),
                            soundEnabled: localStorage.getItem('motodiag_sound_enabled'),
                            autoSave: localStorage.getItem('motodiag_auto_save'),
                            inspectionNotifications: localStorage.getItem('motodiag_inspection_notifications'),
                            reminderTime: localStorage.getItem('motodiag_reminder_time')
                        },
                        formData: localStorage.getItem('motodiag_form_data')
                    };
                    const dataStr = JSON.stringify(allData, null, 2);
                    const dataBlob = new Blob([dataStr], {type: 'application/json'});
                    const link = document.createElement('a');
                    link.href = URL.createObjectURL(dataBlob);
                    link.download = `motodiag_all_data_${new Date().toISOString().split('T')[0]}.json`;
                    link.click();
                    this.playSound('success');
                    this.showToast('–í—Å–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã', 'success');
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö:', e);
                    this.playSound('error');
                    this.showToast('–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ –¥–∞–Ω–Ω—ã—Ö', 'warning');
                }
            },
            importAllData() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = '.json';
                input.onchange = e => {
                    const file = e.target.files[0];
                    if (!file) return;
                    const reader = new FileReader();
                    reader.onload = event => {
                        try {
                            const importedData = JSON.parse(event.target.result);
                            if (!importedData.reports || !importedData.inspections) {
                                throw new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞');
                            }
                            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ? –¢–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –ø–æ—Ç–µ—Ä—è–Ω—ã.')) {
                                return;
                            }
                            this.state.reportsDatabase = importedData.reports;
                            this.state.inspectionsDatabase = importedData.inspections;
                            if (importedData.currentPhotos) {
                                this.state.currentPhotos = importedData.currentPhotos;
                            }
                            localStorage.setItem('motodiag_reports', JSON.stringify(this.state.reportsDatabase));
                            localStorage.setItem('motodiag_inspections', JSON.stringify(this.state.inspectionsDatabase));
                            this.saveCurrentPhotosImproved();
                            if (importedData.settings) {
                                if (importedData.settings.theme) {
                                    localStorage.setItem('motodiag_theme', importedData.settings.theme);
                                }
                                if (importedData.settings.soundEnabled) {
                                    localStorage.setItem('motodiag_sound_enabled', importedData.settings.soundEnabled);
                                }
                                if (importedData.settings.autoSave) {
                                    localStorage.setItem('motodiag_auto_save', importedData.settings.autoSave);
                                }
                                if (importedData.settings.inspectionNotifications) {
                                    localStorage.setItem('motodiag_inspection_notifications', importedData.settings.inspectionNotifications);
                                }
                                if (importedData.settings.reminderTime) {
                                    localStorage.setItem('motodiag_reminder_time', importedData.settings.reminderTime);
                                }
                            }
                            if (importedData.formData) {
                                localStorage.setItem('motodiag_form_data', importedData.formData);
                            }
                            const theme = importedData.settings?.theme || 'light';
                            document.body.setAttribute('data-theme', theme);
                            const darkThemeCheckbox = document.getElementById('darkTheme');
                            if (darkThemeCheckbox) {
                                darkThemeCheckbox.checked = theme === 'dark';
                            }
                            const soundCheckbox = document.getElementById('soundNotifications');
                            if (soundCheckbox && importedData.settings) {
                                soundCheckbox.checked = importedData.settings.soundEnabled === 'true';
                                this.state.soundEnabled = importedData.settings.soundEnabled === 'true';
                            }
                            const autoSaveCheckbox = document.getElementById('autoSave');
                            if (autoSaveCheckbox && importedData.settings) {
                                autoSaveCheckbox.checked = importedData.settings.autoSave === 'true';
                            }
                            const inspectionNotificationsCheckbox = document.getElementById('inspectionNotifications');
                            if (inspectionNotificationsCheckbox && importedData.settings) {
                                inspectionNotificationsCheckbox.checked = importedData.settings.inspectionNotifications === 'true';
                            }
                            const reminderTimeInput = document.getElementById('reminderTime');
                            if (reminderTimeInput && importedData.settings?.reminderTime) {
                                reminderTimeInput.value = importedData.settings.reminderTime;
                            }
                            this.loadReportsList();
                            this.loadInspectionsList();
                            this.updateStatistics();
                            this.loadFormData();
                            this.loadPhotoPreviews();
                            this.playSound('success');
                            this.showToast('–í—Å–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã', 'success');
                        } catch (error) {
                            console.error('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö:', error);
                            this.playSound('error');
                            this.showToast('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –¥–∞–Ω–Ω—ã—Ö', 'warning');
                        }
                    };
                    reader.readAsText(file);
                };
                input.click();
            },
            updateStatistics(period = 'week') {
                const now = new Date();
                let startDate = new Date(now - 7 * 24 * 60 * 60 * 1000);
                if (period === 'month') startDate = new Date(now.getFullYear(), now.getMonth(), 1);
                if (period === 'quarter') {
                    const q = Math.floor(now.getMonth() / 3);
                    startDate = new Date(now.getFullYear(), q * 3, 1);
                }
                if (period === 'year') startDate = new Date(now.getFullYear(), 0, 1);
                const periodReports = this.state.reportsDatabase.filter(r => new Date(r.timestamp) >= startDate);
                const totalReports = periodReports.length;
                const purchased = periodReports.filter(r => r.decision === '‚úÖ –ö—É–ø–ª–µ–Ω').length;
                let totalSavings = 0;
                periodReports.forEach(r => {
                    const price = this.parseMoneyValue(r.price);
                    const objectiveCost = this.parseMoneyValue(r.objective_cost);
                    const sellerDiscount = this.parseMoneyValue(r.seller_discount);
                    const investmentCost = this.parseMoneyValue(r.investment_cost);
                    if (price && objectiveCost) {
                        const savings = (objectiveCost - (price - sellerDiscount)) - investmentCost;
                        if (savings > 0) totalSavings += savings;
                    }
                });
                const avgSavings = purchased > 0 ? totalSavings / purchased : 0;
                const brandCounts = {};
                periodReports.forEach(r => {
                    if (r.brand) brandCounts[r.brand] = (brandCounts[r.brand] || 0) + 1;
                });
                const brandKeys = Object.keys(brandCounts);
                const popularBrand = brandKeys.length > 0 ? 
                    brandKeys.reduce((a, b) => brandCounts[a] > brandCounts[b] ? a : b) : 
                    '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö';
                const plannedInspections = this.state.inspectionsDatabase.filter(i => i.status === 'planned').length;
                const completedInspections = this.state.inspectionsDatabase.filter(i => i.status === 'completed').length;
                const activeInspections = this.state.inspectionsDatabase.filter(i => 
                    i.status === 'planned' && new Date(i.date + 'T' + i.time) > new Date()
                ).length;
                const overdueInspections = this.state.inspectionsDatabase.filter(i => 
                    i.status === 'planned' && new Date(i.date + 'T' + i.time) < new Date()
                ).length;
                const totalReportsEl = document.getElementById('totalReports');
                const successfulDealsEl = document.getElementById('successfulDeals');
                const avgSavingsEl = document.getElementById('avgSavings');
                const popularBrandEl = document.getElementById('popularBrand');
                const plannedInspectionsEl = document.getElementById('plannedInspections');
                const completedInspectionsEl = document.getElementById('completedInspections');
                const activeInspectionsEl = document.getElementById('activeInspections');
                const overdueInspectionsEl = document.getElementById('overdueInspections');
                if (totalReportsEl) totalReportsEl.textContent = totalReports;
                if (successfulDealsEl) successfulDealsEl.textContent = purchased;
                if (avgSavingsEl) avgSavingsEl.textContent = this.formatMoney(Math.round(avgSavings));
                if (popularBrandEl) popularBrandEl.textContent = popularBrand;
                if (plannedInspectionsEl) plannedInspectionsEl.textContent = plannedInspections;
                if (completedInspectionsEl) completedInspectionsEl.textContent = completedInspections;
                if (activeInspectionsEl) activeInspectionsEl.textContent = activeInspections;
                if (overdueInspectionsEl) overdueInspectionsEl.textContent = overdueInspections;
            },
            loadInspectionsList() {
                const inspectionsList = document.getElementById('inspectionsList');
                if (!inspectionsList) return;
                const searchValue = (document.getElementById('searchInspections')?.value || '').toLowerCase();
                if (this.state.inspectionsDatabase.length === 0) {
                    inspectionsList.innerHTML = '<div class="text-center" style="padding: 20px; color: var(--text-light);">–ù–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫</div>';
                    return;
                }
                const filtered = this.state.inspectionsDatabase.filter(inspection => {
                    if (!searchValue) return true;
                    return (
                        inspection.brand?.toLowerCase().includes(searchValue) ||
                        inspection.model?.toLowerCase().includes(searchValue) ||
                        inspection.address?.toLowerCase().includes(searchValue) ||
                        inspection.customer_phone?.includes(searchValue)
                    );
                }).reverse();
                if (filtered.length === 0) {
                    inspectionsList.innerHTML = '<div class="text-center" style="padding: 20px; color: var(--text-light);">–ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</div>';
                    return;
                }
                inspectionsList.innerHTML = filtered.map(inspection => {
                    const inspectionDateTime = new Date(inspection.date + 'T' + inspection.time);
                    const now = new Date();
                    const isOverdue = inspectionDateTime < now && inspection.status === 'planned';
                    const isToday = inspectionDateTime.toDateString() === now.toDateString();
                    return `
                        <div class="inspection-item ${inspection.status === 'completed' ? 'completed' : ''}">
                            <div class="inspection-header">
                                <div class="inspection-title">${this.escapeHtml(inspection.brand)} ${this.escapeHtml(inspection.model)} (${this.escapeHtml(inspection.year)})</div>
                                <div class="inspection-date">
                                    ${isToday ? 'üïê –°–µ–≥–æ–¥–Ω—è' : inspectionDateTime.toLocaleDateString('ru-RU')} ${inspection.time}
                                    ${isOverdue ? ' ‚ö†Ô∏è' : ''}
                                </div>
                            </div>
                            <div class="inspection-details">
                                <div><strong>–ê–¥—Ä–µ—Å:</strong> ${this.escapeHtml(inspection.address)}</div>
                                <div><strong>–¢–µ–ª–µ—Ñ–æ–Ω –∑–∞–∫–∞–∑—á–∏–∫–∞:</strong> ${this.escapeHtml(inspection.customer_phone)}</div>
                                ${inspection.seller_phone ? `<div><strong>–¢–µ–ª–µ—Ñ–æ–Ω –ø—Ä–æ–¥–∞–≤—Ü–∞:</strong> ${this.escapeHtml(inspection.seller_phone)}</div>` : ''}
                                ${inspection.notes ? `<div><strong>–ó–∞–º–µ—Ç–∫–∏:</strong> ${this.escapeHtml(inspection.notes)}</div>` : ''}
                                <div><strong>–°—Ç–∞—Ç—É—Å:</strong> ${inspection.status === 'completed' ? '‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∞' : 'üïê –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞'}</div>
                            </div>
                            <div class="inspection-actions">
                                ${inspection.status !== 'completed' ? `
                                    <button class="action-btn" style="background: var(--success-color); color: white;" onclick="app.completeInspection('${inspection.id}')" aria-label="–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—É—é">‚úÖ</button>
                                    <button class="action-btn" style="background: var(--warning-color); color: white;" onclick="app.editInspection('${inspection.id}')" aria-label="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É">‚úèÔ∏è</button>
                                ` : ''}
                                <button class="action-btn" style="background: var(--primary-color); color: white;" onclick="app.viewReport('${inspection.reportId}')" aria-label="–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ—Ç—á–µ—Ç">üëÅÔ∏è</button>
                                <button class="action-btn" style="background: var(--danger-color); color: white;" onclick="app.deleteInspection('${inspection.id}')" aria-label="–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É">üóëÔ∏è</button>
                            </div>
                        </div>
                    `;
                }).join('');
            },
            completeInspection(inspectionId) {
                const inspection = this.state.inspectionsDatabase.find(i => i.id === inspectionId);
                if (inspection) {
                    inspection.status = 'completed';
                    localStorage.setItem('motodiag_inspections', JSON.stringify(this.state.inspectionsDatabase));
                    this.loadInspectionsList();
                    this.updateStatistics();
                    this.playSound('completion');
                    this.showToast('–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è', 'success');
                }
            },
            editInspection(inspectionId) {
                const inspection = this.state.inspectionsDatabase.find(i => i.id === inspectionId);
                if (!inspection) return;
                this.editReport(inspection.reportId);
            },
            deleteInspection(inspectionId) {
                if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –ø—Ä–æ–≤–µ—Ä–∫—É?')) return;
                this.state.inspectionsDatabase = this.state.inspectionsDatabase.filter(i => i.id !== inspectionId);
                localStorage.setItem('motodiag_inspections', JSON.stringify(this.state.inspectionsDatabase));
                this.loadInspectionsList();
                this.updateStatistics();
                this.playSound('success');
                this.showToast('–ü—Ä–æ–≤–µ—Ä–∫–∞ —É–¥–∞–ª–µ–Ω–∞', 'success');
            },
            clearCompletedInspections() {
                if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏?')) return;
                const completedCount = this.state.inspectionsDatabase.filter(i => i.status === 'completed').length;
                this.state.inspectionsDatabase = this.state.inspectionsDatabase.filter(i => i.status !== 'completed');
                localStorage.setItem('motodiag_inspections', JSON.stringify(this.state.inspectionsDatabase));
                this.loadInspectionsList();
                this.updateStatistics();
                this.playSound('success');
                this.showToast(`–£–¥–∞–ª–µ–Ω–æ ${completedCount} –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫`, 'success');
            },
            checkInspectionReminders() {
                const reminderTime = parseInt(document.getElementById('reminderTime')?.value || 2, 10);
                const now = new Date();
                const reminderMs = reminderTime * 60 * 60 * 1000;
                this.state.inspectionsDatabase.forEach(inspection => {
                    if (inspection.status !== 'planned' || inspection.reminded) return;
                    const inspectionDateTime = new Date(inspection.date + 'T' + inspection.time);
                    const timeUntilInspection = inspectionDateTime - now;
                    if (timeUntilInspection > 0 && timeUntilInspection <= reminderMs) {
                        this.showToast(
                            `–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä–∫–∞ ${inspection.brand} ${inspection.model} –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ ${inspection.date} ${inspection.time}`,
                            'info'
                        );
                        this.playSound('warning');
                        inspection.reminded = true;
                        localStorage.setItem('motodiag_inspections', JSON.stringify(this.state.inspectionsDatabase));
                    }
                });
                setTimeout(() => this.checkInspectionReminders(), 30 * 60 * 1000);
            }
        };
        document.addEventListener('DOMContentLoaded', function() {
            try {
                app.init();
                const searchReports = document.getElementById('searchReports');
                if (searchReports) {
                    searchReports.addEventListener('input', () => app.loadReportsList());
                }
                const searchInspections = document.getElementById('searchInspections');
                if (searchInspections) {
                    searchInspections.addEventListener('input', () => app.loadInspectionsList());
                }
                document.querySelectorAll('.grid-btn[data-period]').forEach(btn => {
                    btn.addEventListener('click', function() {
                        document.querySelectorAll('.grid-btn[data-period]').forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        app.updateStatistics(this.getAttribute('data-period'));
                        app.playSound('click');
                    });
                });
                const generateStatsBtn = document.getElementById('generateStatsBtn');
                if (generateStatsBtn) {
                    generateStatsBtn.addEventListener('click', () => {
                        const statsOutput = document.getElementById('statsOutput');
                        const copyStatsBtn = document.getElementById('copyStatsBtn');
                        if (statsOutput) {
                            const now = new Date();
                            statsOutput.textContent = `üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ú–æ—Ç–æ–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ PRO\n\n` +
                                `üìÖ –ü–µ—Ä–∏–æ–¥: ${now.toLocaleDateString('ru-RU')}\n` +
                                `üèçÔ∏è –í—Å–µ–≥–æ –æ—Ç—á–µ—Ç–æ–≤: ${app.state.reportsDatabase.length}\n` +
                                `‚úÖ –£—Å–ø–µ—à–Ω—ã—Ö —Å–¥–µ–ª–æ–∫: ${app.state.reportsDatabase.filter(r => r.decision === '‚úÖ –ö—É–ø–ª–µ–Ω').length}\n` +
                                `üìã –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫: ${app.state.inspectionsDatabase.filter(i => i.status === 'planned').length}\n\n` +
                                `üìû –°–µ—Ä–≥–µ–π –õ–∞–Ω–¥–∏–∫ 8 950 005-05-08\n` +
                                `üåê –°–∞–π—Ç: motopodbor.ru`;
                            statsOutput.classList.remove('hidden');
                        }
                        if (copyStatsBtn) {
                            copyStatsBtn.classList.remove('hidden');
                            copyStatsBtn.onclick = () => {
                                navigator.clipboard.writeText(statsOutput.textContent).then(() => {
                                    app.playSound('success');
                                    app.showToast('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!', 'success');
                                });
                            };
                        }
                        app.playSound('success');
                    });
                }
            } catch (e) {
                console.error('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', e);
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.');
            }
        });
    </script>
</body>
</html>